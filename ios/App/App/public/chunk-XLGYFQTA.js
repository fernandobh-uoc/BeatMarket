import{a as te,b as de}from"./chunk-PVNJ44BD.js";import{e as ee,f as pe}from"./chunk-SYKTDXP7.js";import{M as ge,a as Y,b as me,v as Z}from"./chunk-QCXXS2IP.js";import"./chunk-7QGFDW3N.js";import"./chunk-CVZVN4BI.js";import"./chunk-6RPMLJXL.js";import"./chunk-ZDSPE5PQ.js";import"./chunk-XV6JN3SG.js";import"./chunk-G3RFF6YC.js";import"./chunk-ZSFULLTW.js";import"./chunk-JBWWZWAU.js";import"./chunk-ITJAHDAK.js";import"./chunk-WVJ73LOB.js";import"./chunk-5WOL6UCU.js";import"./chunk-UCDHUJSY.js";import"./chunk-67JKSNDF.js";import"./chunk-UUSPLNXY.js";import"./chunk-DH7DTWFE.js";import"./chunk-JT567OVO.js";import"./chunk-NY55XGVK.js";import"./chunk-UHVVQU73.js";import"./chunk-XSD52R3U.js";import{b as W,c as ce,f as X,g as ue}from"./chunk-VQCHUAXV.js";import"./chunk-K5TY53DO.js";import{Ca as se,Q as A,_ as q,aa as H,ca as G,da as J,la as K,oa as N,pa as Q,t as $,v as le,wa as V}from"./chunk-BQ2OOKCX.js";import{$ as a,$a as F,D as _,Ea as h,Ha as z,Ib as B,Lb as j,Pb as ae,Qa as c,Ra as P,Sa as C,Y as b,Ya as k,Za as R,_ as I,_a as T,fa as S,hb as d,ka as M,l as v,nb as x,qa as g,sa as f,ua as U,v as re,va as E,vb as L,wa as l,xa as s,xb as oe,ya as p,z as w}from"./chunk-DHHGUDQP.js";import"./chunk-OHMQXWFK.js";import"./chunk-IZ5VZLPJ.js";import"./chunk-FTZN4423.js";import"./chunk-R4WQGMAA.js";import"./chunk-5WZLWBAD.js";import"./chunk-UAVZGLFE.js";import"./chunk-3VQMIGUA.js";import"./chunk-GWOLSY5V.js";import"./chunk-QQVLEOUP.js";import"./chunk-HJZG4HTK.js";import"./chunk-XR3M57TO.js";import"./chunk-3FE2HO5M.js";import"./chunk-ZKJSTCFA.js";import{f as D,o as O}from"./chunk-FIPIWZQS.js";var ne,ie=D(()=>{"use strict";x();ce();re();ue();x();ne=(()=>{let i=class i{constructor(){this.userRepository=_(X),this.errorMessage=b(""),this.userId=b(void 0),this.userResource=W({request:()=>this.userId(),loader:({request:t})=>{var r;if(!t)return v(null);try{let o=this.userRepository.getUserById$(t);return o!=null?o:v(null)}catch(o){return this.errorMessage.set((r=o==null?void 0:o.message)!=null?r:"Unknown error"),v(null)}}}),this.userDetailState=d(()=>{var t;return{userData:(t=this.userResource.value())!=null?t:null,loading:this.userResource.isLoading(),errorMessage:this.errorMessage()}})}setUserId(t){this.userId.set(t)}getUserData(t){return O(this,null,function*(){try{return yield this.userRepository.getUserById(t)}catch(r){throw console.error(r),this.errorMessage.set(r),r}})}getUserData$(t){return O(this,null,function*(){if(!this.userRepository.getUserById$)return null;try{return this.userRepository.getUserById$(t)}catch(r){throw console.error(r),this.errorMessage.set(r),r}})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})()});function ve(n,i){n&1&&(l(0,"div",4),p(1,"ion-spinner",5),s())}function Me(n,i){if(n&1&&c(0),n&2){let e,t=h(2);C(" ",(e=(e=t.userData())==null||e.address==null?null:e.address.city)!==null&&e!==void 0?e:"",", ")}}function Pe(n,i){if(n&1&&(l(0,"div",13)(1,"ion-text",15),c(2,"Biograf\xEDa"),s(),l(3,"ion-text",16),c(4),s()()),n&2){let e,t=h(2);a(4),C(" ",(e=(e=t.userData())==null?null:e.bio)!==null&&e!==void 0?e:""," ")}}function xe(n,i){if(n&1&&(l(0,"ion-item",18)(1,"ion-thumbnail",19),p(2,"img",20),s(),l(3,"div",21)(4,"ion-text",22),c(5),s(),l(6,"ion-label",23),c(7),s(),l(8,"ion-text",24),c(9),T(10,"formatCurrency"),s()()()),n&2){let e=i.$implicit;g("routerLink",R(7,he,"/tabs/post-detail/"+e._id)),a(2),g("src",e.mainImageURL,I),a(3),P(e.title),a(2),P(e.category),a(2),P(F(10,5,e.price))}}function ye(n,i){if(n&1&&(l(0,"div",14)(1,"ion-text",17),c(2,"Art\xEDculos en venta"),s(),U(3,xe,11,9,"ion-item",18,Ce),s()),n&2){let e,t=h(2);a(3),E((e=(e=t.userData())==null?null:e.activePosts)!==null&&e!==void 0?e:k(0,fe))}}function Oe(n,i){if(n&1&&(l(0,"div",6)(1,"ion-avatar",7),p(2,"img",8),s(),l(3,"ion-text",9),c(4),s(),l(5,"div",10),p(6,"ion-icon",11),l(7,"ion-text",12),M(8,Me,1,1),c(9),s()()(),M(10,Pe,5,1,"div",13)(11,ye,5,1,"div",14)),n&2){let e,t,r,o,u,y,m=h();a(2),z("src",(e=(e=m.userData())==null?null:e.profilePictureURL)!==null&&e!==void 0?e:"",I),a(2),C(" ",(t=(t=m.userData())==null?null:t.username)!==null&&t!==void 0?t:""," "),a(4),f(!((r=m.userData())==null||r.address==null)&&r.address.city?8:-1),a(),C(" ",(o=(o=m.userData())==null||o.address==null?null:o.address.country)!==null&&o!==void 0?o:""," "),a(),f((u=m.userData())!=null&&u.bio?10:-1),a(),f((((y=m.userData())==null||y.activePosts==null?null:y.activePosts.length)||0)>0?11:-1)}}var fe,he,Ce,Ge,be=D(()=>{x();oe();le();se();ae();pe();de();me();ge();ie();x();fe=()=>[],he=n=>[n],Ce=(n,i)=>i._id;Ge=(()=>{let i=class i{constructor(){this.route=_(B),this.userDetailService=_(ne),this.userData=d(()=>this.userDetailService.userDetailState().userData),this.loading=d(()=>this.userDetailService.userDetailState().loading),this.errorMessage=d(()=>this.userDetailService.userDetailState().errorMessage),Y({locationOutline:Z})}ngOnInit(){var t;this.userDetailService.setUserId((t=this.route.snapshot.paramMap.get("userId"))!=null?t:"")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=S({type:i,selectors:[["app-user-detail"]],decls:6,vars:5,consts:[[3,"translucent"],["type","arrow-back",3,"title","showSearch"],[3,"fullscreen"],[1,"container"],[1,"loading-spinner-container"],["name","crescent"],[1,"user-front-container"],[1,"user-avatar"],["alt","Avatar del usuario",3,"src"],[1,"user-username"],[1,"user-location-wrapper"],["name","location-outline","color","light","size","small",1,"location-icon"],[1,"user-location"],[1,"user-bio-container"],[1,"user-posts-list"],[1,"user-bio-label"],[1,"user-bio-text"],[1,"posts-list-label"],[1,"post-item",3,"routerLink"],["slot","start",1,"post-image"],["alt","Imagen principal del anuncio",3,"src"],[1,"labels-container"],[1,"post-title"],[1,"post-category"],[1,"post-price"]],template:function(r,o){if(r&1&&(l(0,"ion-header",0),p(1,"app-toolbar",1),s(),l(2,"ion-content",2)(3,"div",3),M(4,ve,2,0,"div",4)(5,Oe,12,6),s()()),r&2){let u;g("translucent",!0),a(),g("title",(u=(u=o.userData())==null?null:u.username)!==null&&u!==void 0?u:"Usuario")("showSearch",!1),a(),g("fullscreen",!0),a(2),f(o.loading()?4:5)}},dependencies:[K,V,j,J,G,Q,A,ee,N,q,H,L,$,te],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.container[_ngcontent-%COMP%]   .loading-spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;padding:3rem 0}.container[_ngcontent-%COMP%]   .user-front-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;margin-top:2em}.container[_ngcontent-%COMP%]   .user-front-container[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.container[_ngcontent-%COMP%]   .user-front-container[_ngcontent-%COMP%]   .user-username[_ngcontent-%COMP%]{font-size:var(--label-larger-size, 1.25rem);font-style:normal;font-weight:var(--label-larger-weight-prominent, 600);line-height:var(--label-larger-line-height, 1.625rem);letter-spacing:var(--label-larger-tracking, 0rem)}.container[_ngcontent-%COMP%]   .user-front-container[_ngcontent-%COMP%]   .user-location-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5rem}.container[_ngcontent-%COMP%]   .user-front-container[_ngcontent-%COMP%]   .user-location-wrapper[_ngcontent-%COMP%]   .location-icon[_ngcontent-%COMP%]{height:8px!important;width:8px!important}.container[_ngcontent-%COMP%]   .user-front-container[_ngcontent-%COMP%]   .user-location-wrapper[_ngcontent-%COMP%]   .user-location[_ngcontent-%COMP%]{font-size:var(--label-large-size, .875rem);font-style:normal;font-weight:var(--label-large-weight, 400);line-height:var(--label-large-line-height, 1.25rem);letter-spacing:var(--label-large-tracking, .00625rem)}.container[_ngcontent-%COMP%]   .user-bio-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.container[_ngcontent-%COMP%]   .user-bio-container[_ngcontent-%COMP%]   .user-bio-label[_ngcontent-%COMP%]{font-size:var(--label-larger-size, 1.25rem);font-style:normal;font-weight:var(--label-larger-weight-prominent, 600);line-height:var(--label-larger-line-height, 1.625rem);letter-spacing:var(--label-larger-tracking, 0rem)}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .posts-list-label[_ngcontent-%COMP%]{font-size:var(--label-larger-size, 1.25rem);font-style:normal;font-weight:var(--label-larger-weight-prominent, 600);line-height:var(--label-larger-line-height, 1.625rem);letter-spacing:var(--label-larger-tracking, 0)}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;cursor:pointer}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{--border-radius: 8px}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .labels-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;flex:1 1 auto;padding-bottom:.5rem}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .labels-container[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-size:var(--body-medium-size, .875rem);font-style:normal;font-weight:var(--body-medium-weight, 400);line-height:var(--body-medium-line-height, 1.25rem);letter-spacing:var(--body-medium-tracking, .01563rem)}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .labels-container[_ngcontent-%COMP%]   .post-category[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint);font-size:var(--label-medium-size, .75rem);font-style:normal;font-weight:var(--label-medium-weight, 500);line-height:var(--label-medium-line-height, 1rem);letter-spacing:var(--label-medium-tracking, .03125rem)}.container[_ngcontent-%COMP%]   .user-posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .labels-container[_ngcontent-%COMP%]   .post-price[_ngcontent-%COMP%]{font-size:var(--body-large-size, 1rem);font-style:normal;font-weight:var(--body-large-weight, 400);line-height:var(--body-large-line-height, 1.5rem);letter-spacing:var(--body-large-tracking, .03125rem)}"]});let n=i;return n})()});be();export{Ge as UserDetailPage};
