import{A as se,D as le,a as M,b as ee,g as te,p as ne,r as oe,u as re,w as ie,y as ae}from"./chunk-D4UN2WVJ.js";import{a as Y,b as Ce,v as P,w as Z}from"./chunk-GIZGGZ62.js";import{$ as F,Ba as X,P as $,S as H,Z as A,ba as z,ca as I,da as W,ea as N,fa as V,la as q,ma as G,pa as J,qa as K,ra as Q,t as B,v as Ie,va as C}from"./chunk-XVXSUTZI.js";import{Aa as l,B as O,F as a,Fa as f,Ib as v,Jb as k,Nb as j,Sa as m,Ta as x,Y as b,_ as E,aa as w,ba as S,ha as y,l as R,m as U,pb as h,sa as g,u as D,x as ye,xb as L,ya as r,za as s,zb as ve}from"./chunk-LBGYGD76.js";import"./chunk-OHMQXWFK.js";import"./chunk-IZ5VZLPJ.js";import"./chunk-FTZN4423.js";import"./chunk-R4WQGMAA.js";import"./chunk-5WZLWBAD.js";import"./chunk-UAVZGLFE.js";import"./chunk-3VQMIGUA.js";import"./chunk-GWOLSY5V.js";import"./chunk-QQVLEOUP.js";import"./chunk-HJZG4HTK.js";import"./chunk-XR3M57TO.js";import"./chunk-3FE2HO5M.js";import"./chunk-ZKJSTCFA.js";import{f as d,o as c}from"./chunk-FIPIWZQS.js";var ce,ue=d(()=>{"use strict";h();j();X();ee();le();Z();h();ce=(()=>{let t=class t{constructor(){this.router=a(v),this.authService=a(P),this.contentId=b(""),this.username=b(""),this.userProfilePictureURL=b(""),M({time:se,settings:ae,logOut:oe})}goToHistory(){return c(this,null,function*(){try{this.router.navigate(["/tabs/history"])}catch(n){console.error(n)}})}logout(){return c(this,null,function*(){try{yield this.authService.logout(),this.router.navigate(["/auth/landing"])}catch(n){console.error(n)}})}ngOnInit(){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["app-menu"]],inputs:{contentId:[1,"contentId"],username:[1,"username"],userProfilePictureURL:[1,"userProfilePictureURL"]},decls:24,vars:3,consts:[["menuId","main",3,"contentId"],[1,"menu-header"],["color","dark"],["slot","start"],["slot","start","routerLink","/tabs/profile"],["alt","Avatar de usuario",3,"src"],[1,"menu-content","ion-padding"],["lines","none"],[3,"click"],["aria-hidden","true","slot","start","name","time","color","light"],["aria-hidden","true","slot","start","name","settings","color","light"],["aria-hidden","true","slot","start","name","log-out","color","light"]],template:function(o,i){o&1&&(r(0,"ion-menu",0)(1,"ion-header",1)(2,"ion-menu-toggle")(3,"ion-toolbar",2)(4,"ion-buttons",3)(5,"ion-avatar",4),l(6,"img",5),s()(),r(7,"ion-title"),m(8),s()()()(),r(9,"ion-content",6)(10,"ion-menu-toggle")(11,"ion-list",7)(12,"ion-item",8),f("click",function(){return i.goToHistory()}),l(13,"ion-icon",9),r(14,"ion-label"),m(15,"Historial de compraventa"),s()(),r(16,"ion-item"),l(17,"ion-icon",10),r(18,"ion-label"),m(19,"Ajustes"),s()(),r(20,"ion-item",8),f("click",function(){return i.logout()}),l(21,"ion-icon",11),r(22,"ion-label"),m(23,"Cerrar sesi\xF3n"),s()()()()()()),o&2&&(g("contentId",i.contentId()),S(6),g("src",i.userProfilePictureURL()||"../../../../../../assets/user-avatar-default-shade.svg",w),S(2),x(i.username()))},dependencies:[C,I,z,W,k,V,$,H,A,K,J,N,F],styles:[".menu-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{min-height:5rem;display:flex}.menu-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]::part(container){display:flex;flex-direction:row;justify-content:flex-start;gap:1rem}.menu-header[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{cursor:pointer}.menu-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1.5rem;font-style:normal;font-weight:400;line-height:1.75rem;font-variant:none}.menu-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{cursor:pointer}.menu-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:1rem}.menu-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:var(--body-large-size, 1rem);font-style:normal;font-weight:var(--body-large-weight, 400);line-height:var(--body-large-line-height, 1.5rem);letter-spacing:var(--body-large-tracking, .03125rem)}"]});let e=t;return e})()});var pe,he=d(()=>{"use strict";h();ve();Ie();X();ee();le();ue();Z();j();h();pe=(()=>{let t=class t{constructor(){this.router=a(v),this.authService=a(P),M({home:ne,personCircle:ie,musicalNotes:re,chatboxEllipses:te})}onTabChange(n){n.tab==="sell"&&this.router.navigateByUrl("/tabs/sell/publish",{replaceUrl:!0})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["app-tabs"]],decls:19,vars:2,consts:[["contentId","menu-content",3,"username","userProfilePictureURL"],["id","menu-content",3,"ionTabsWillChange"],["slot","bottom","color","dark"],["tab","home"],["aria-hidden","true","name","home"],["tab","profile"],["aria-hidden","true","name","person-circle"],["tab","sell"],["aria-hidden","true","name","musical-notes"],["tab","conversations"],["aria-hidden","true","name","chatbox-ellipses"]],template:function(o,i){if(o&1&&(l(0,"app-menu",0),r(1,"ion-tabs",1),f("ionTabsWillChange",function(p){return i.onTabChange(p)}),r(2,"ion-tab-bar",2)(3,"ion-tab-button",3),l(4,"ion-icon",4),r(5,"ion-label"),m(6,"Inicio"),s()(),r(7,"ion-tab-button",5),l(8,"ion-icon",6),r(9,"ion-label"),m(10,"Mi Perfil"),s()(),r(11,"ion-tab-button",7),l(12,"ion-icon",8),r(13,"ion-label"),m(14,"Vender"),s()(),r(15,"ion-tab-button",9),l(16,"ion-icon",10),r(17,"ion-label"),m(18,"Mensajes"),s()()()()),o&2){let u,p;g("username",(u=(u=i.authService.currentUser())==null?null:u.username)!==null&&u!==void 0?u:"")("userProfilePictureURL",(p=(p=i.authService.currentUser())==null?null:p.profilePictureURL)!==null&&p!==void 0?p:"")}},dependencies:[ce,I,q,G,Q,C,L,B],styles:["ion-tab-bar[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom);min-height:5rem}"]});let e=t;return e})()});var T,de=d(()=>{"use strict";h();Ce();h();T=(()=>{let t=class t{constructor(){this.userRepository=a(Y),this.errorMessage=E("")}getUserData(n){return c(this,null,function*(){try{return yield this.userRepository.getUserById(n)}catch(o){throw console.error(o),this.errorMessage.set(o),o}})}getUserData$(n){return c(this,null,function*(){if(!this.userRepository.getUserById$)return null;try{return this.userRepository.getUserById$(n)}catch(o){throw console.error(o),this.errorMessage.set(o),o}})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})()});var ge,fe,be=d(()=>{"use strict";h();de();ye();ge=(e,t)=>c(void 0,null,function*(){let _=a(T),n=e.paramMap.get("userId");return yield _.getUserData(n!=null?n:"")}),fe=(e,t)=>c(void 0,null,function*(){var o;let _=a(T),n=e.paramMap.get("userId");return((o=yield _.getUserData$(n!=null?n:""))!=null?o:R(null)).pipe(D(i=>(console.error(i),U(()=>new Error("Error fetching user data")))))})});var tt,Pe=d(()=>{he();be();tt=[{path:"tabs",component:pe,children:[{path:"home",loadComponent:()=>import("./chunk-VPBHRWMW.js").then(e=>e.HomePage)},{path:"search",loadComponent:()=>import("./chunk-NT3JPCJX.js").then(e=>e.SearchPage)},{path:"profile",loadComponent:()=>import("./chunk-DLS6CDNY.js").then(e=>e.ProfilePage)},{path:"sell",loadChildren:()=>import("./chunk-RDIMK6SS.js").then(e=>e.SellRoutes)},{path:"conversations",loadComponent:()=>import("./chunk-X4YYPE2N.js").then(e=>e.ConversationsListPage)},{path:"post-detail/:postId",loadComponent:()=>import("./chunk-WVCAM7EY.js").then(e=>e.PostDetailPage)},{path:"user-detail/:userId",loadComponent:()=>import("./chunk-TYHXQDMT.js").then(e=>e.UserDetailPage),resolve:{userData:ge,userData$:fe}},{path:"history",loadComponent:()=>import("./chunk-BYYDQPGN.js").then(e=>e.HistoryPage)},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]});Pe();export{tt as TabsRoutes};
