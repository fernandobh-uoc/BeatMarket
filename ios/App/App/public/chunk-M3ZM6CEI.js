import{a as X,b as Ze}from"./chunk-K4X2YLKW.js";import{a as $e,b as it}from"./chunk-ZHJQD47Z.js";import"./chunk-OWPIXBBY.js";import{a as $,b as Xe}from"./chunk-SZG4CGCH.js";import"./chunk-SWFIUNRV.js";import{D as Je,a as Re,b as He,e as je,s as Ue}from"./chunk-D4UN2WVJ.js";import{a as S,b as F,c as Z,d as ee,e as te,f as ie,g as ne,h as oe,o as tt}from"./chunk-ZLVYX7G6.js";import{a as y,b as G,d as et}from"./chunk-CC7RULIL.js";import"./chunk-ATV22YZD.js";import"./chunk-26KUR5UJ.js";import{j as Le,m as We}from"./chunk-GIZGGZ62.js";import{$ as Se,Aa as qe,Ba as Be,Q as Ee,R as Pe,Y as we,Z as ye,c as x,ca as Te,d as pe,e as _e,f as de,ha as Ve,i as be,ia as De,j as fe,ja as Ie,k as Ce,l as xe,na as Oe,r as he,s as Fe,t as ge,u as ve,v as J,va as Ne,wa as Me,xa as Ae,za as ke}from"./chunk-XVXSUTZI.js";import{Aa as R,Ea as T,F as M,Fa as u,Ga as s,Ib as ue,N as c,Nb as Ke,O as m,Oa as N,Pa as j,Sa as l,Ta as V,Ua as K,X as A,Y as B,Za as ce,_ as D,ba as p,ga as O,ha as L,jb as W,kb as H,ma as f,pb as U,sa as g,ta as se,ua as d,va as E,wa as P,xa as w,xb as me,ya as n,za as t,zb as Ye}from"./chunk-LBGYGD76.js";import"./chunk-OHMQXWFK.js";import"./chunk-IZ5VZLPJ.js";import"./chunk-FTZN4423.js";import"./chunk-R4WQGMAA.js";import"./chunk-5WZLWBAD.js";import"./chunk-UAVZGLFE.js";import"./chunk-3VQMIGUA.js";import"./chunk-GWOLSY5V.js";import"./chunk-QQVLEOUP.js";import"./chunk-HJZG4HTK.js";import"./chunk-XR3M57TO.js";import"./chunk-3FE2HO5M.js";import"./chunk-ZKJSTCFA.js";import{a as Q,b as Y,f as le,k as ae,m as k,o as q}from"./chunk-FIPIWZQS.js";function rt(i,a){if(i&1&&(n(0,"ion-badge",7),l(1),t()),i&2){let e=s();p(),V(e.uploadedImagesURLs().length)}}function lt(i,a){i&1&&(n(0,"ion-text",8),l(1,"Debes a\xF1adir al menos una imagen al anuncio"),t())}function at(i,a){i&1&&(n(0,"ion-text",8),l(1,"El t\xEDtulo del anuncio es obligatorio"),t())}function st(i,a){i&1&&(n(0,"ion-text",8),l(1,"El t\xEDtulo del anuncio es demasiado corto"),t())}function ct(i,a){if(i&1&&f(0,at,2,0,"ion-text",8)(1,st,2,0,"ion-text",8),i&2){let e,o,r=s();d(!((e=r.publishForm.get("commonData.title"))==null||e.errors==null)&&e.errors.required?0:-1),p(),d(!((o=r.publishForm.get("commonData.title"))==null||o.errors==null)&&o.errors.minlength?1:-1)}}function mt(i,a){i&1&&(n(0,"ion-text",8),l(1,"El precio es obligatorio"),t())}function ut(i,a){i&1&&(n(0,"ion-text",8),l(1,"El precio debe ser un n\xFAmero"),t())}function pt(i,a){i&1&&(n(0,"ion-text",8),l(1,"El precio debe ser mayor o igual a 0 \u20AC"),t())}function _t(i,a){if(i&1&&f(0,mt,2,0,"ion-text",8)(1,ut,2,0,"ion-text",8)(2,pt,2,0,"ion-text",8),i&2){let e,o,r,h=s();d(!((e=h.publishForm.get("commonData.price"))==null||e.errors==null)&&e.errors.required?0:-1),p(),d(!((o=h.publishForm.get("commonData.price"))==null||o.errors==null)&&o.errors.pattern?1:-1),p(),d(!((r=h.publishForm.get("commonData.price"))==null||r.errors==null)&&r.errors.min?2:-1)}}function dt(i,a){i&1&&(n(0,"ion-text",8),l(1,"La descripci\xF3n del anuncio es obligatoria"),t())}function bt(i,a){if(i&1&&f(0,dt,2,0,"ion-text",8),i&2){let e,o=s();d(!((e=o.publishForm.get("commonData.description"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ft(i,a){if(i&1&&(n(0,"ion-col")(1,"div",28)(2,"ion-radio",29),l(3),t()()()),i&2){let e=a.$implicit;p(2),g("value",e),p(),K(" ",e," ")}}function Ct(i,a){i&1&&(n(0,"ion-text",8),l(1,"Debes seleccionar un estado"),t())}function xt(i,a){if(i&1&&f(0,Ct,2,0,"ion-text",8),i&2){let e,o=s();d(!((e=o.publishForm.get("commonData.condition"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ht(i,a){if(i&1&&(n(0,"ion-col")(1,"div",28)(2,"ion-radio",29),l(3),t()()()),i&2){let e=a.$implicit;p(2),g("value",e),p(),K(" ",e," ")}}function Ft(i,a){i&1&&(n(0,"ion-text",8),l(1,"Debes seleccionar una categor\xEDa"),t())}function gt(i,a){if(i&1&&f(0,Ft,2,0,"ion-text",8),i&2){let e,o=s();d(!((e=o.publishForm.get("commonData.category"))==null||e.errors==null)&&e.errors.required?0:-1)}}function vt(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Et(i,a){i&1&&(n(0,"ion-text",8),l(1,"El tipo de instrumento es obligatorio"),t())}function Pt(i,a){if(i&1&&f(0,Et,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.type"))==null||e.errors==null)&&e.errors.required?0:-1)}}function wt(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function yt(i,a){i&1&&(n(0,"ion-text",8),l(1,'La marca del instrumento es obligatoria (si es desconocida, elige la opci\xF3n "Otra")'),t())}function St(i,a){if(i&1&&f(0,yt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.brand"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Tt(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Vt(i,a){if(i&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Tipo de instrumento"),t(),n(3,"ion-select",30),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))})("ionChange",function(r){c(e);let h=s();return m(h.onInstrumentTypeChange(r))}),l(4," \u2026 "),P(5,vt,2,2,"ion-select-option",31,E),t(),f(7,Pt,1,1),t(),n(8,"div",9)(9,"ion-label",10),l(10,"Marca"),t(),n(11,"ion-select",32),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(12," \u2026 "),P(13,wt,2,2,"ion-select-option",31,E),t(),f(15,St,1,1),t(),n(16,"div",9)(17,"ion-label",10),l(18,"Modelo (opcional)"),t(),n(19,"ion-input",33),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(20,"div",9)(21,"ion-label",10),l(22,"Color (opcional)"),t(),n(23,"ion-input",34),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(24,"div",9)(25,"ion-label",10),l(26,"A\xF1o de fabricaci\xF3n (opcional)"),t(),n(27,"ion-input",35),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(28,"div",9)(29,"ion-label",10),l(30,"N\xFAmero de serie (opcional)"),t(),n(31,"ion-input",36),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(32,"div",9)(33,"ion-label",10),l(34,"Nivel de instrumento (opcional)"),t(),n(35,"ion-select",37),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(36," \u2026 "),P(37,Tt,2,2,"ion-select-option",31,E),t()()}if(i&2){let e=s();p(5),w(e.instrumentTypes),p(2),d(e.submitAttempted()?7:-1),p(6),w(e.instrumentBrands()),p(2),d(e.submitAttempted()?15:-1),p(22),w(e.instrumentLevels)}}function Dt(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function It(i,a){i&1&&(n(0,"ion-text",8),l(1,"El formato de grabaci\xF3n es obligatorio"),t())}function Ot(i,a){if(i&1&&f(0,It,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.format"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Nt(i,a){i&1&&(n(0,"ion-text",8),l(1,"El artista o banda es obligatorio"),t())}function Mt(i,a){if(i&1&&f(0,Nt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.artist"))==null||e.errors==null)&&e.errors.required?0:-1)}}function At(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function kt(i,a){i&1&&(n(0,"ion-text",8),l(1,"El g\xE9nero musical es obligatorio"),t())}function qt(i,a){if(i&1&&f(0,kt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.genre"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Bt(i,a){i&1&&(n(0,"ion-text",8),l(1,"M\xE1ximo 4 cifras"),t())}function Lt(i,a){if(i&1&&f(0,Bt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.year"))==null||e.errors==null)&&e.errors.maxLength?0:-1)}}function Rt(i,a){if(i&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Formato de grabaci\xF3n"),t(),n(3,"ion-select",38),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(4," \u2026 "),P(5,Dt,2,2,"ion-select-option",31,E),t(),f(7,Ot,1,1),t(),n(8,"div",9)(9,"ion-label",10),l(10,"Artista o banda"),t(),n(11,"ion-input",39),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(12,Mt,1,1),t(),n(13,"div",9)(14,"ion-label",10),l(15,"G\xE9nero musical"),t(),n(16,"ion-select",40),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(17," \u2026 "),P(18,At,2,2,"ion-select-option",31,E),t(),f(20,qt,1,1),t(),n(21,"div",9)(22,"ion-label",10),l(23,"T\xEDtulo de la grabaci\xF3n (opcional)"),t(),n(24,"ion-input",41),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(25,"div",9)(26,"ion-label",10),l(27,"A\xF1o de la grabaci\xF3n (opcional)"),t(),n(28,"ion-input",42),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(29,Lt,1,1),t(),n(30,"div",9)(31,"ion-label",10),l(32,"Duraci\xF3n (opcional)"),t(),n(33,"ion-input",43),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(34,"div",9)(35,"ion-label",10),l(36,"Discogr\xE1fica (opcional)"),t(),n(37,"ion-input",44),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(38,"div",9)(39,"ion-label",10),l(40,"N\xFAmero de cat\xE1logo (opcional)"),t(),n(41,"ion-input",45),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(42,"div",9)(43,"ion-label",10),l(44,"ISRC (opcional)"),t(),n(45,"ion-input",46),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(46,"div",9)(47,"ion-label",10),l(48,"C\xF3digo de barras (opcional)"),t(),n(49,"ion-input",47),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(50,"div",9)(51,"ion-label",10),l(52,"Fecha de publicaci\xF3n (opcional)"),t(),n(53,"ion-input",48),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(54,"div",9)(55,"ion-label",10),l(56,"Pa\xEDs de publicaci\xF3n (opcional)"),t(),n(57,"ion-input",49),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(58,"div",9)(59,"ion-label",10),l(60,"Formato de publicaci\xF3n (opcional)"),t(),n(61,"ion-input",50),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(62,"div",9)(63,"ion-label",10),l(64,"N\xFAmero de canciones (opcional)"),t(),n(65,"ion-input",51),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()()}if(i&2){let e=s();p(5),w(e.recordingFormats),p(2),d(e.submitAttempted()?7:-1),p(5),d(e.submitAttempted()?12:-1),p(6),w(e.recordingGenres),p(2),d(e.submitAttempted()?20:-1),p(9),d(e.submitAttempted()?29:-1)}}function jt(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Ut(i,a){i&1&&(n(0,"ion-text",8),l(1,"El tipo de accesorio es obligatorio"),t())}function $t(i,a){if(i&1&&f(0,Ut,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.type"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Gt(i,a){i&1&&(n(0,"ion-text",8),l(1,"El nombre del accesorio es obligatorio"),t())}function zt(i,a){if(i&1&&f(0,Gt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.name"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Qt(i,a){if(i&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Tipo de accesorio"),t(),n(3,"ion-select",52),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(4," \u2026 "),P(5,jt,2,2,"ion-select-option",31,E),t(),f(7,$t,1,1),t(),n(8,"div",9)(9,"ion-label",10),l(10,"Nombre del accesorio"),t(),n(11,"ion-input",53),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(12,zt,1,1),t(),n(13,"div",9)(14,"ion-label",10),l(15,"Marca del accesorio (opcional)"),t(),n(16,"ion-input",54),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(17,"div",9)(18,"ion-label",10),l(19,"Color del accesorio (opcional)"),t(),n(20,"ion-input",34),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(21,"div",9)(22,"ion-label",10),l(23,"Instrumento asociado (opcional)"),t(),n(24,"ion-input",55),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()()}if(i&2){let e=s();p(5),w(e.accesoryTypes),p(2),d(e.submitAttempted()?7:-1),p(5),d(e.submitAttempted()?12:-1)}}function Yt(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Kt(i,a){i&1&&(n(0,"ion-text",8),l(1,"El tipo es obligatorio"),t())}function Wt(i,a){if(i&1&&f(0,Kt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.type"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Ht(i,a){i&1&&(n(0,"ion-text",8),l(1,"El nombre es obligatorio"),t())}function Jt(i,a){if(i&1&&f(0,Ht,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.name"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Xt(i,a){i&1&&(n(0,"ion-text",8),l(1,"La marca es obligatoria"),t())}function Zt(i,a){if(i&1&&f(0,Xt,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.brand"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ei(i,a){i&1&&(n(0,"ion-text",8),l(1,"El modelo es obligatoria"),t())}function ti(i,a){if(i&1&&f(0,ei,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.model"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ii(i,a){i&1&&(n(0,"ion-text",8),l(1,"El n\xFAmero de serie es obligatorio"),t())}function ni(i,a){if(i&1&&f(0,ii,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.serialNumber"))==null||e.errors==null)&&e.errors.required?0:-1)}}function oi(i,a){if(i&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Tipo de art\xEDculo profesional"),t(),n(3,"ion-select",56),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(4," \u2026 "),P(5,Yt,2,2,"ion-select-option",31,E),t(),f(7,Wt,1,1),t(),n(8,"div",9)(9,"ion-label",10),l(10,"Nombre"),t(),n(11,"ion-input",53),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(12,Jt,1,1),t(),n(13,"div",9)(14,"ion-label",10),l(15,"Marca"),t(),n(16,"ion-input",54),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(17,Zt,1,1),t(),n(18,"div",9)(19,"ion-label",10),l(20,"Modelo"),t(),n(21,"ion-input",33),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(22,ti,1,1),t(),n(23,"div",9)(24,"ion-label",10),l(25,"N\xFAmero de serie"),t(),n(26,"ion-input",36),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(27,ni,1,1),t(),n(28,"div",9)(29,"ion-label",10),l(30,"Color (opcional)"),t(),n(31,"ion-input",34),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(32,"div",9)(33,"ion-label",10),l(34,"A\xF1o de fabricaci\xF3n (opcional)"),t(),n(35,"ion-input",35),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(36,"div",9)(37,"ion-label",10),l(38,"Accesorios (opcional)"),t(),n(39,"ion-input",57),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(40,"div",9)(41,"ion-label",10),l(42,"Garant\xEDa (opcional)"),t(),n(43,"ion-input",58),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(44,"div",9)(45,"ion-label",10),l(46,"Duraci\xF3n de la garant\xEDa (opcional)"),t(),n(47,"ion-input",59),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(48,"div",9)(49,"ion-label",10),l(50,"Tipo de garant\xEDa (opcional)"),t(),n(51,"ion-input",60),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()()}if(i&2){let e=s();p(5),w(e.professionalTypes),p(2),d(e.submitAttempted()?7:-1),p(5),d(e.submitAttempted()?12:-1),p(5),d(e.submitAttempted()?17:-1),p(5),d(e.submitAttempted()?22:-1),p(5),d(e.submitAttempted()?27:-1)}}function ri(i,a){i&1&&(n(0,"ion-text",8),l(1,"El t\xEDtulo del libro es obligatorio"),t())}function li(i,a){if(i&1&&f(0,ri,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.title"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ai(i,a){i&1&&(n(0,"ion-text",8),l(1,"El autor del libro es obligatorio"),t())}function si(i,a){if(i&1&&f(0,ai,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.author"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ci(i,a){if(i&1&&(n(0,"ion-select-option",31),l(1),t()),i&2){let e=a.$implicit;g("value",e),p(),V(e)}}function mi(i,a){i&1&&(n(0,"ion-text",8),l(1,"El tema del libro es obligatorio"),t())}function ui(i,a){if(i&1&&f(0,mi,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.theme"))==null||e.errors==null)&&e.errors.required?0:-1)}}function pi(i,a){if(i&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"T\xEDtulo del libro"),t(),n(3,"ion-input",11),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(4,li,1,1),t(),n(5,"div",9)(6,"ion-label",10),l(7,"Autor del libro"),t(),n(8,"ion-input",61),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(9,si,1,1),t(),n(10,"div",9)(11,"ion-label",10),l(12,"Tema del libro"),t(),n(13,"ion-select",62),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(14," \u2026 "),P(15,ci,2,2,"ion-select-option",31,E),t(),f(17,ui,1,1),t(),n(18,"div",9)(19,"ion-label",10),l(20,"Edici\xF3n del libro (opcional)"),t(),n(21,"ion-input",63),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(22,"div",9)(23,"ion-label",10),l(24,"Editorial del libro (opcional)"),t(),n(25,"ion-input",64),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(26,"div",9)(27,"ion-label",10),l(28,"A\xF1o del libro (opcional)"),t(),n(29,"ion-input",42),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(30,"div",9)(31,"ion-label",10),l(32,"N\xFAmero de p\xE1ginas del libro (opcional)"),t(),n(33,"ion-input",65),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(34,"div",9)(35,"ion-label",10),l(36,"Idioma del libro (opcional)"),t(),n(37,"ion-input",66),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(38,"div",9)(39,"ion-label",10),l(40,"ISBN del libro (opcional)"),t(),n(41,"ion-input",67),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(42,"div",9)(43,"ion-label",10),l(44,"Serie del libro (opcional)"),t(),n(45,"ion-input",68),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()(),n(46,"div",9)(47,"ion-label",10),l(48,"Volumen del libro (opcional)"),t(),n(49,"ion-input",69),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t()()}if(i&2){let e=s();p(4),d(e.submitAttempted()?4:-1),p(5),d(e.submitAttempted()?9:-1),p(6),w(e.bookThemes),p(2),d(e.submitAttempted()?17:-1)}}function _i(i,a){i&1&&(n(0,"ion-text",8),l(1,"La descripci\xF3n del art\xEDculo es obligatoria"),t())}function di(i,a){if(i&1&&f(0,_i,2,0,"ion-text",8),i&2){let e,o=s(2);d(!((e=o.publishForm.get("specificData.description"))==null||e.errors==null)&&e.errors.required?0:-1)}}function bi(i,a){if(i&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Descripci\xF3n del art\xEDculo"),t(),n(3,"ion-textarea",19),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),t(),f(4,di,1,1),t()}if(i&2){let e=s();p(4),d(e.submitAttempted()?4:-1)}}var ot,z,ze=le(()=>{"use strict";U();J();et();Be();He();Je();tt();Ze();U();J();ot=["titleInput"];z=(()=>{var a,re,Ge;let r=class r{constructor(){ae(this,a);this.fb=M(Fe),this.currencyPipe=M(X),this.titleInput=O("titleInput"),this.formSubmit=A(),this.submitAttempted=B(!1),this.controlFocus=A(),this.focusedInput=D(""),this.uploadImages=A(),this.uploadedImagesURLs=B([]),this.isPriceFocused=!1,this.suggestPrice=A(),this.conditionsEnum=G,this.conditions=Object.values(G).filter(_=>_!==G.None),this.categoriesEnum=y,this.categories=Object.values(y).filter(_=>_!==y.None),this.selectedCategory=D(y.None),this.selectedInstrumentType=D(S.None),this.instrumentTypes=Object.values(S).filter(_=>_!==S.None),this.instrumentBrands=D([]),this.instrumentLevels=Object.values(oe).filter(_=>_!==oe.None),this.accesoryTypes=Object.values(Z).filter(_=>_!==Z.None),this.recordingFormats=Object.values(ee).filter(_=>_!==ee.None),this.recordingGenres=Object.values(te).filter(_=>_!==te.None),this.bookThemes=Object.values(ne).filter(_=>_!==ne.None),this.professionalTypes=Object.values(ie).filter(_=>_!==ie.None),this.disabledPublishButton=B(!1),Re({cameraOutline:je,logoEuro:Ue}),H(()=>{let _=this.selectedInstrumentType();this.instrumentBrands.set(k(this,a,Ge).call(this,_))}),H(()=>{let _=this.uploadedImagesURLs();if(_.length>0){let b=_[0];k(this,a,re).call(this,b)}else k(this,a,re).call(this,"")})}ngOnInit(){this.initForm()}initForm(){this.publishForm=this.fb.group({commonData:this.fb.group({title:this.fb.control("",{validators:[x.required,x.minLength(10)],updateOn:"blur"}),price:this.fb.control("",{validators:[x.required,x.min(0)],updateOn:"blur"}),description:this.fb.control("",{validators:[x.required],updateOn:"blur"}),condition:this.fb.control("",{validators:[x.required],updateOn:"blur"}),category:this.fb.control(this.selectedCategory(),{validators:[x.required],updateOn:"blur"})}),specificData:this.fb.group({})})}resetForm(){this.selectedCategory.set(this.categoriesEnum.None),this.publishForm.reset()}focusTitleInput(){var _;(_=this.titleInput())==null||_.setFocus()}formatPrice(){var b,C;let _=(b=this.publishForm.get("commonData.price"))==null?void 0:b.value;if(!isNaN(_)){let v=this.currencyPipe.transform(_,!1);(C=this.publishForm.get("commonData.price"))==null||C.setValue(v)}}onCategoryChange(_){this.selectedCategory.set(_.detail.value),this.publishForm.contains("specificData")&&this.publishForm.removeControl("specificData");let b;switch(this.selectedCategory()){case y.Instruments:b=this.fb.group({type:this.fb.control("",{validators:[x.required],updateOn:"blur"}),brand:this.fb.control("",{validators:[x.required],updateOn:"blur"}),model:this.fb.control(""),color:this.fb.control(""),fabricationYear:this.fb.control(""),serialNumber:this.fb.control(""),instrumentLevel:this.fb.control("")});break;case y.Recordings:b=this.fb.group({format:this.fb.control("",{validators:[x.required],updateOn:"blur"}),artist:this.fb.control("",{validators:[x.required],updateOn:"blur"}),genre:this.fb.control("",{validators:[x.required,x.maxLength(4)],updateOn:"blur"}),recordingTitle:this.fb.control(""),year:this.fb.control(""),duration:this.fb.control(""),label:this.fb.control(""),catalogNumber:this.fb.control(""),isrc:this.fb.control(""),barcode:this.fb.control(""),releaseDate:this.fb.control(""),releaseCountry:this.fb.control(""),releaseFormat:this.fb.control(""),trackCount:this.fb.control("")});break;case y.Accessories:b=this.fb.group({type:this.fb.control("",{validators:[x.required],updateOn:"blur"}),name:this.fb.control("",{validators:[x.required],updateOn:"blur"}),brand:this.fb.control(""),color:this.fb.control(""),associatedInstrument:this.fb.control("")});break;case y.Professional:b=this.fb.group({type:this.fb.control("",{validators:[x.required],updateOn:"blur"}),name:this.fb.control("",{validators:[x.required],updateOn:"blur"}),brand:this.fb.control("",{validators:[x.required],updateOn:"blur"}),model:this.fb.control("",{validators:[x.required],updateOn:"blur"}),serialNumber:this.fb.control("",{validators:[x.required],updateOn:"blur"}),color:this.fb.control(""),fabricationYear:this.fb.control(""),accessories:this.fb.control(""),warranty:this.fb.control(""),warrantyDuration:this.fb.control(""),warrantyType:this.fb.control("")});break;case y.Books:b=this.fb.group({title:this.fb.control("",{validators:[x.required],updateOn:"blur"}),author:this.fb.control("",{validators:[x.required],updateOn:"blur"}),theme:this.fb.control("",{validators:[x.required],updateOn:"blur"}),edition:this.fb.control(""),publisher:this.fb.control(""),year:this.fb.control(""),pages:this.fb.control(""),language:this.fb.control(""),isbn:this.fb.control(""),series:this.fb.control(""),volume:this.fb.control("")});break;case y.Other:b=this.fb.group({description:this.fb.control("",{validators:[x.required],updateOn:"blur"})});break;default:b=this.fb.group({});break}b&&this.publishForm.setControl("specificData",b)}onInstrumentTypeChange(_){this.selectedInstrumentType.set(_.detail.value)}};a=new WeakSet,re=function(_){let b=document.querySelector(".images-upload-box");b&&(b.style.backgroundImage=`url(${_})`,b.style.backgroundSize="cover",b.style.backgroundPosition="center")},Ge=function(_){switch(_){case S.String:return[...Object.values(F.String).filter(b=>b!==F.None),F.Other];case S.Keyboard:return[...Object.values(F.Keyboard).filter(b=>b!==F.None),F.Other];case S.Wind:return[...Object.values(F.Wind).filter(b=>b!==F.None),F.Other];case S.Brass:return[...Object.values(F.Brass).filter(b=>b!==F.None),F.Other];case S.Percussion:return[...Object.values(F.Percussion).filter(b=>b!==F.None),F.Other];case S.Electronic:return[...Object.values(F.Electronic).filter(b=>b!==F.None),F.Other];case S.Other:return[F.Other]}return[F.None]},r.\u0275fac=function(b){return new(b||r)},r.\u0275cmp=L({type:r,selectors:[["app-publish-form"]],viewQuery:function(b,C){b&1&&N(C.titleInput,ot,5),b&2&&j()},inputs:{submitAttempted:[1,"submitAttempted"],uploadedImagesURLs:[1,"uploadedImagesURLs"],disabledPublishButton:[1,"disabledPublishButton"]},outputs:{formSubmit:"formSubmit",controlFocus:"controlFocus",uploadImages:"uploadImages",suggestPrice:"suggestPrice"},features:[ce([X])],decls:60,vars:12,consts:[["titleInput",""],[3,"formGroup"],["formGroupName","commonData",1,"inputs-container"],[1,"images-upload-box-container"],[1,"images-upload-box",3,"click"],[1,"camera-icon-wrapper"],["name","camera-outline","color","light","size","large"],["color","dark",1,"camera-badge"],["color","danger",1,"error-text"],[1,"input-wrapper"],["color","light",1,"custom"],["formControlName","title","type","text",1,"custom",3,"ionFocus"],[1,"price-wrapper"],[1,"input-wrapper","price-input-wrapper"],["formControlName","price","type","text","inputmode","decimal",1,"custom",3,"ionFocus","ionBlur"],["slot","end",1,"price-currency"],[1,"price-suggestion-wrapper"],[1,"inline-link",3,"click"],[1,"input-wrapper","description-wrapper"],["formControlName","description",1,"custom",3,"ionFocus"],[1,"input-wrapper","condition-wrapper"],[1,"radiobuttons-container"],["formControlName","condition"],[1,"input-wrapper","category-wrapper"],["formControlName","category",3,"ionChange"],["formGroupName","specificData",1,"inputs-container"],[1,"button-container"],["type","button",3,"click","disabled"],[1,"radiobutton-wrapper"],["labelPlacement","end","color","light",3,"value"],["formControlName","type","aria-label","Tipo de instrumento","interface","popover","color","light",1,"custom","select-input",3,"ionFocus","ionChange"],[3,"value"],["formControlName","brand","aria-label","Marca de instrumento","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","model","type","text",1,"custom",3,"ionFocus"],["formControlName","color","type","text",1,"custom",3,"ionFocus"],["formControlName","fabricationYear","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","serialNumber","type","text",1,"custom",3,"ionFocus"],["formControlName","instrumentLevel","aria-label","Nivel de instrumento","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","format","aria-label","Formato de grabaci\xF3n","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","artist","type","text",1,"custom",3,"ionFocus"],["formControlName","genre","aria-label","G\xE9nero musical","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","recordingTitle","type","text",1,"custom",3,"ionFocus"],["formControlName","year","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","duration","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","label","type","text",1,"custom",3,"ionFocus"],["formControlName","catalogNumber","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","isrc","type","text",1,"custom",3,"ionFocus"],["formControlName","barcode","type","text",1,"custom",3,"ionFocus"],["formControlName","releaseDate","type","text","inputmode","datetime-local",1,"custom",3,"ionFocus"],["formControlName","releaseCountry","type","text",1,"custom",3,"ionFocus"],["formControlName","releaseFormat","type","text",1,"custom",3,"ionFocus"],["formControlName","trackCount","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","type","aria-label","Tipo de accesorio","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","name","type","text",1,"custom",3,"ionFocus"],["formControlName","brand","type","text",1,"custom",3,"ionFocus"],["formControlName","associatedInstrument","type","text",1,"custom",3,"ionFocus"],["formControlName","type","aria-label","Tipo de art\xEDculo profesional","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","accessories","type","text",1,"custom",3,"ionFocus"],["formControlName","warranty","type","text",1,"custom",3,"ionFocus"],["formControlName","warrantyDuration","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","warrantyType","type","text",1,"custom",3,"ionFocus"],["formControlName","author","type","text",1,"custom",3,"ionFocus"],["formControlName","theme","aria-label","Tema del libro","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","edition","type","text",1,"custom",3,"ionFocus"],["formControlName","publisher","type","text",1,"custom",3,"ionFocus"],["formControlName","pages","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","language","type","text",1,"custom",3,"ionFocus"],["formControlName","isbn","type","text",1,"custom",3,"ionFocus"],["formControlName","series","type","text",1,"custom",3,"ionFocus"],["formControlName","volume","type","text",1,"custom",3,"ionFocus"]],template:function(b,C){if(b&1){let v=T();n(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4),u("click",function(){return c(v),m(C.uploadImages.emit())}),n(4,"ion-text"),l(5,"A\xF1adir im\xE1genes"),t(),n(6,"div",5),R(7,"ion-icon",6),f(8,rt,2,1,"ion-badge",7),t()(),f(9,lt,2,0,"ion-text",8),t(),n(10,"div",9)(11,"ion-label",10),l(12,"T\xEDtulo del anuncio"),t(),n(13,"ion-input",11,0),u("ionFocus",function(){return c(v),m(C.controlFocus.emit("commonData"))}),t(),f(15,ct,2,2),t(),n(16,"div",12)(17,"div",13)(18,"ion-label",10),l(19,"Precio"),t(),n(20,"ion-input",14),u("ionFocus",function(){return c(v),m(C.controlFocus.emit("commonData"))})("ionBlur",function(){return c(v),C.formatPrice(),m(C.isPriceFocused=!1)}),n(21,"ion-text",15),l(22,"\u20AC"),t()(),f(23,_t,3,3),t(),n(24,"div",16)(25,"ion-text",17),u("click",function(){return c(v),m(C.suggestPrice.emit())}),l(26,"Sugerir precio"),t()()(),n(27,"div",18)(28,"ion-label",10),l(29,"Descripci\xF3n del anuncio"),t(),n(30,"ion-textarea",19),u("ionFocus",function(){return c(v),m(C.controlFocus.emit("commonData"))}),t(),f(31,bt,1,1),t(),n(32,"div",20)(33,"ion-label",10),l(34,"Estado del art\xEDculo"),t(),n(35,"div",21)(36,"ion-radio-group",22)(37,"ion-row"),P(38,ft,4,2,"ion-col",null,E),t()()(),f(40,xt,1,1),t(),n(41,"div",23)(42,"ion-label",10),l(43,"Categor\xEDa"),t(),n(44,"div",21)(45,"ion-radio-group",24),u("ionChange",function(Qe){return c(v),m(C.onCategoryChange(Qe))}),n(46,"ion-row"),P(47,ht,4,2,"ion-col",null,E),t()()(),f(49,gt,1,1),t()(),n(50,"div",25),f(51,Vt,39,2)(52,Rt,66,4)(53,Qt,25,2)(54,oi,52,5)(55,pi,50,3)(56,bi,5,1,"div",9),t()(),n(57,"div",26)(58,"ion-button",27),u("click",function(){return c(v),m(C.formSubmit.emit())}),l(59,"Publicar anuncio"),t()()}if(b&2){let v;g("formGroup",C.publishForm),p(3),se("has-image",C.uploadedImagesURLs().length>0),p(5),d(C.uploadedImagesURLs().length>0?8:-1),p(),d(C.submitAttempted()&&C.uploadedImagesURLs().length===0?9:-1),p(6),d(C.submitAttempted()?15:-1),p(8),d(C.submitAttempted()?23:-1),p(8),d(C.submitAttempted()?31:-1),p(7),w(C.conditions),p(2),d(C.submitAttempted()?40:-1),p(7),w(C.categories),p(2),d(C.submitAttempted()?49:-1),p(2),d((v=C.selectedCategory())===C.categoriesEnum.Instruments?51:v===C.categoriesEnum.Recordings?52:v===C.categoriesEnum.Accessories?53:v===C.categoriesEnum.Professional?54:v===C.categoriesEnum.Books?55:v===C.categoriesEnum.Other?56:-1),p(7),g("disabled",C.disabledPublishButton())}},dependencies:[Ee,Pe,we,De,Ae,Ve,ke,Ie,Oe,Me,Te,Ne,qe,ve,be,pe,_e,fe,xe,Ce],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;justify-content:space-between}.images-upload-box-container[_ngcontent-%COMP%]{min-height:11rem;margin-bottom:2rem;display:flex;flex-direction:column}.images-upload-box[_ngcontent-%COMP%]{position:relative;margin:1rem 0rem 0rem calc(var(--horizontal-margin) * -1);min-width:100dvw;min-height:8rem;border-radius:0rem;background-color:var(--ion-color-dark-shade);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;text-align:center;cursor:pointer}.images-upload-box.has-image[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;background:#000000bf}.images-upload-box[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{position:absolute;z-index:1;bottom:55%;color:var(--ion-color-light-shade);font-size:var(--label-large-size, .875rem);font-style:normal;font-weight:var(--label-large-weight-prominent, 600);line-height:var(--label-large-line-height, 1.25rem);letter-spacing:var(--label-large-tracking, .00625rem)}.images-upload-box[_ngcontent-%COMP%]   .camera-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.images-upload-box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:55%;right:-8px;z-index:1;color:var(--ion-color-light-shade);font-size:2.5rem}.images-upload-box[_ngcontent-%COMP%]   .camera-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-16px;font-size:.7rem;padding:2px 6px;border-radius:50%}.price-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}.price-wrapper[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]{max-width:66%}.price-wrapper[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]   .price-currency[_ngcontent-%COMP%]{color:var(--ion-color-light-shade);font-size:var(--label-larger-size, 1.25rem);margin-right:.5rem}.price-wrapper[_ngcontent-%COMP%]   .price-suggestion-wrapper[_ngcontent-%COMP%]{align-self:center;flex:1 0 auto}.description-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem;min-height:9.5rem}.condition-wrapper[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]{padding-bottom:2rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]{margin-top:.5rem;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]{display:flex;width:100%}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{font-size:var(--body-large-size, 1rem);font-style:normal;font-weight:var(body-large-weight, 400);line-height:var(--body-large-line-height, 1.5rem);letter-spacing:var(--body-large-tracking, .03125rem)}.button-container[_ngcontent-%COMP%]{margin-top:2rem;display:flex;flex-direction:column;align-items:flex-start}']});let i=r;return i})()});var fi,Ci,Gi,xi=le(()=>{U();Ye();J();Be();Xe();ze();it();We();Ke();U();fi=["titleInput"],Ci=["fileInput"],Gi=(()=>{let a=class a{constructor(){this.sellService=M($e),this.router=M(ue),this.publishFormComponent=O(z),this.titleInput=O("titleInput"),this.publishErrorMessage=W(()=>this.sellService.errorMessage()),this.uploadedImagesURLs=W(()=>this.sellService.imagesDataURLs()),this.submitAttempted=D(!1),this.disabledPublishButton=D(!1),this.toolbar=O($),this.fileInput=O("fileInput"),this.onImagesUpload=()=>q(this,null,function*(){var o;Le.isNativePlatform()?yield this.sellService.loadImages():(o=this.fileInput())==null||o.nativeElement.click()}),this.handleFileInput=o=>q(this,null,function*(){let r=yield this.sellService.loadImagesNotNative(o)})}ngOnInit(){}ionViewDidEnter(){var o;(o=this.publishFormComponent())==null||o.focusTitleInput()}ionViewDidLeave(){var o,r;this.submitAttempted.set(!1),this.disabledPublishButton.set(!1),(o=this.publishFormComponent())==null||o.resetForm(),this.sellService.removeImages(),(r=this.toolbar())==null||r.searchActive.set(!1)}onControlFocus(o){this.submitAttempted.set(!1)}handleFormSubmit(){return q(this,null,function*(){var r;this.submitAttempted.set(!0);let o=(r=this.publishFormComponent())==null?void 0:r.publishForm;o==null||o.updateValueAndValidity(),!(o!=null&&o.invalid)&&this.uploadedImagesURLs().length!==0&&(this.disabledPublishButton.set(!0),yield this.sellService.publishPost(Y(Q({},o==null?void 0:o.value.commonData),{characteristics:Y(Q({},o==null?void 0:o.value.specificData),{category:o==null?void 0:o.value.commonData.category})})),this.publishErrorMessage()||this.router.navigate(["/tabs/sell/splash"]))})}findInvalidControls(o,r=""){let h=[];return o instanceof de?Object.keys(o.controls).forEach(_=>{let b=o.controls[_],C=r?`${r}.${_}`:_;b.invalid&&h.push(...this.findInvalidControls(b,C))}):o instanceof he?o.controls.forEach((_,b)=>{let C=`${r}[${b}]`;_.invalid&&h.push(...this.findInvalidControls(_,C))}):o!=null&&o.invalid&&h.push(`${r}: ${JSON.stringify(o.errors)}`),h}};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=L({type:a,selectors:[["app-publish"]],viewQuery:function(r,h){r&1&&(N(h.publishFormComponent,z,5),N(h.titleInput,fi,5),N(h.toolbar,$,5),N(h.fileInput,Ci,5)),r&2&&j(4)},decls:7,vars:6,consts:[["fileInput",""],[3,"translucent"],["type","menu",3,"title"],[3,"fullscreen"],[1,"container"],[3,"controlFocus","uploadImages","formSubmit","submitAttempted","uploadedImagesURLs","disabledPublishButton"],["type","file","accept","image/*","multiple","","hidden","",3,"change"]],template:function(r,h){if(r&1){let _=T();n(0,"ion-header",1),R(1,"app-toolbar",2),t(),n(2,"ion-content",3)(3,"div",4)(4,"app-publish-form",5),u("controlFocus",function(C){return c(_),m(h.onControlFocus(C))})("uploadImages",function(){return c(_),m(h.onImagesUpload())})("formSubmit",function(){return c(_),m(h.handleFormSubmit())}),t(),n(5,"input",6,0),u("change",function(C){return c(_),m(h.handleFileInput(C))}),t()()()}r&2&&(g("translucent",!0),p(),g("title","Vender"),p(),g("fullscreen",!0),p(2),g("submitAttempted",h.submitAttempted())("uploadedImagesURLs",h.uploadedImagesURLs())("disabledPublishButton",h.disabledPublishButton()))},dependencies:[z,$,ye,Se,me,ge],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100%}"]});let i=a;return i})()});xi();export{Gi as PublishPage};
