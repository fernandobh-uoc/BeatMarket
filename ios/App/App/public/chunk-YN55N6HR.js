import{a as ze,b as ot}from"./chunk-MY5CIDO4.js";import{a as X,b as tt}from"./chunk-PVNJ44BD.js";import"./chunk-375QIGGA.js";import{c as $,d as et}from"./chunk-I27DK3TE.js";import{O as Ze,a as Ue,b as Xe,j as $e,z as Ge}from"./chunk-FBV753BW.js";import{a as y,b as h,c as Z,d as ee,e as te,f as ie,g as ne,h as oe,o as nt}from"./chunk-ZLVYX7G6.js";import{a as S,b as G,d as it}from"./chunk-CC7RULIL.js";import"./chunk-EJ3JXVBZ.js";import"./chunk-6NUGH5FF.js";import"./chunk-VQCHUAXV.js";import{b as je,e as Je}from"./chunk-K5TY53DO.js";import"./chunk-4XKNA7IF.js";import"./chunk-4FRKXPG4.js";import"./chunk-E4HNE3PW.js";import"./chunk-P2UHFIXP.js";import"./chunk-XV6JN3SG.js";import"./chunk-G3RFF6YC.js";import"./chunk-GTZXGHKK.js";import"./chunk-JBWWZWAU.js";import"./chunk-ITJAHDAK.js";import"./chunk-WVJ73LOB.js";import{Aa as Be,Ba as Le,Ca as Re,R as Pe,S as we,Z as Se,_ as ye,aa as Te,c as x,d as _e,da as Ve,e as de,f as fe,i as Ce,ia as De,j as be,ja as Oe,k as xe,ka as Ie,l as Fe,la as Ne,oa as Me,r as he,s as ge,t as ve,u as Ee,v as J,wa as Ae,xa as ke,ya as qe}from"./chunk-BQ2OOKCX.js";import{$ as p,Ca as T,D as M,Da as u,Ea as s,Kb as pe,L as c,M as m,Ma as N,Na as j,Pb as He,Qa as l,Ra as V,Sa as K,V as A,W as L,Xa as ce,Y as O,ea as I,fa as R,hb as W,ib as H,jb as me,ka as f,nb as U,qa as g,ra as se,sa as _,ta as E,ua as P,va as w,vb as ue,wa as n,xa as i,xb as We,ya as k}from"./chunk-DHHGUDQP.js";import"./chunk-OHMQXWFK.js";import"./chunk-S6VCIYOJ.js";import"./chunk-25CU3KXX.js";import"./chunk-67JKSNDF.js";import"./chunk-UUSPLNXY.js";import"./chunk-DH7DTWFE.js";import"./chunk-JT567OVO.js";import"./chunk-NY55XGVK.js";import"./chunk-UHVVQU73.js";import"./chunk-IZ5VZLPJ.js";import"./chunk-FTZN4423.js";import"./chunk-R4WQGMAA.js";import"./chunk-5WZLWBAD.js";import"./chunk-UAVZGLFE.js";import"./chunk-3VQMIGUA.js";import"./chunk-GWOLSY5V.js";import"./chunk-QQVLEOUP.js";import"./chunk-HJZG4HTK.js";import"./chunk-XR3M57TO.js";import"./chunk-3FE2HO5M.js";import"./chunk-ZKJSTCFA.js";import{a as Q,b as Y,f as le,k as ae,m as q,o as B}from"./chunk-FIPIWZQS.js";function at(t,a){if(t&1&&(n(0,"ion-badge",7),l(1),i()),t&2){let e=s();p(),V(e.uploadedImagesURLs().length)}}function st(t,a){t&1&&(n(0,"ion-text",8),l(1,"Debes a\xF1adir al menos una imagen al anuncio"),i())}function ct(t,a){t&1&&(n(0,"ion-text",8),l(1,"El t\xEDtulo del anuncio es obligatorio"),i())}function mt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El t\xEDtulo del anuncio es demasiado corto"),i())}function ut(t,a){if(t&1&&f(0,ct,2,0,"ion-text",8)(1,mt,2,0,"ion-text",8),t&2){let e,o,r=s();_(!((e=r.publishForm.get("commonData.title"))==null||e.errors==null)&&e.errors.required?0:-1),p(),_(!((o=r.publishForm.get("commonData.title"))==null||o.errors==null)&&o.errors.minlength?1:-1)}}function pt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El precio es obligatorio"),i())}function _t(t,a){t&1&&(n(0,"ion-text",8),l(1,"El precio debe ser un n\xFAmero"),i())}function dt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El precio debe ser mayor o igual a 0 \u20AC"),i())}function ft(t,a){if(t&1&&f(0,pt,2,0,"ion-text",8)(1,_t,2,0,"ion-text",8)(2,dt,2,0,"ion-text",8),t&2){let e,o,r,F=s();_(!((e=F.publishForm.get("commonData.price"))==null||e.errors==null)&&e.errors.required?0:-1),p(),_(!((o=F.publishForm.get("commonData.price"))==null||o.errors==null)&&o.errors.pattern?1:-1),p(),_(!((r=F.publishForm.get("commonData.price"))==null||r.errors==null)&&r.errors.min?2:-1)}}function Ct(t,a){t&1&&(n(0,"ion-text",8),l(1,"La descripci\xF3n del anuncio es obligatoria"),i())}function bt(t,a){if(t&1&&f(0,Ct,2,0,"ion-text",8),t&2){let e,o=s();_(!((e=o.publishForm.get("commonData.description"))==null||e.errors==null)&&e.errors.required?0:-1)}}function xt(t,a){if(t&1&&(n(0,"ion-col")(1,"div",29)(2,"ion-radio",30),l(3),i()()()),t&2){let e=a.$implicit;p(2),g("value",e),p(),K(" ",e," ")}}function Ft(t,a){t&1&&(n(0,"ion-text",8),l(1,"Debes seleccionar un estado"),i())}function ht(t,a){if(t&1&&f(0,Ft,2,0,"ion-text",8),t&2){let e,o=s();_(!((e=o.publishForm.get("commonData.condition"))==null||e.errors==null)&&e.errors.required?0:-1)}}function gt(t,a){if(t&1&&(n(0,"ion-col")(1,"div",29)(2,"ion-radio",30),l(3),i()()()),t&2){let e=a.$implicit;p(2),g("value",e),p(),K(" ",e," ")}}function vt(t,a){t&1&&(n(0,"ion-text",8),l(1,"Debes seleccionar una categor\xEDa"),i())}function Et(t,a){if(t&1&&f(0,vt,2,0,"ion-text",8),t&2){let e,o=s();_(!((e=o.publishForm.get("commonData.category"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Pt(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function wt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El tipo de instrumento es obligatorio"),i())}function St(t,a){if(t&1&&f(0,wt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.type"))==null||e.errors==null)&&e.errors.required?0:-1)}}function yt(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Tt(t,a){t&1&&(n(0,"ion-text",8),l(1,'La marca del instrumento es obligatoria (si es desconocida, elige la opci\xF3n "Otra")'),i())}function Vt(t,a){if(t&1&&f(0,Tt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.brand"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Dt(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Ot(t,a){if(t&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Tipo de instrumento"),i(),n(3,"ion-select",31),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))})("ionChange",function(r){c(e);let F=s();return m(F.onInstrumentTypeChange(r))}),l(4," \u2026 "),P(5,Pt,2,2,"ion-select-option",32,E),i(),f(7,St,1,1),i(),n(8,"div",9)(9,"ion-label",10),l(10,"Marca"),i(),n(11,"ion-select",33),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(12," \u2026 "),P(13,yt,2,2,"ion-select-option",32,E),i(),f(15,Vt,1,1),i(),n(16,"div",9)(17,"ion-label",10),l(18,"Modelo (opcional)"),i(),n(19,"ion-input",34),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(20,"div",9)(21,"ion-label",10),l(22,"Color (opcional)"),i(),n(23,"ion-input",35),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(24,"div",9)(25,"ion-label",10),l(26,"A\xF1o de fabricaci\xF3n (opcional)"),i(),n(27,"ion-input",36),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(28,"div",9)(29,"ion-label",10),l(30,"N\xFAmero de serie (opcional)"),i(),n(31,"ion-input",37),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(32,"div",9)(33,"ion-label",10),l(34,"Nivel de instrumento (opcional)"),i(),n(35,"ion-select",38),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(36," \u2026 "),P(37,Dt,2,2,"ion-select-option",32,E),i()()}if(t&2){let e=s();p(5),w(e.instrumentTypes),p(2),_(e.submitAttempted()?7:-1),p(6),w(e.instrumentBrands()),p(2),_(e.submitAttempted()?15:-1),p(22),w(e.instrumentLevels)}}function It(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Nt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El formato de grabaci\xF3n es obligatorio"),i())}function Mt(t,a){if(t&1&&f(0,Nt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.format"))==null||e.errors==null)&&e.errors.required?0:-1)}}function At(t,a){t&1&&(n(0,"ion-text",8),l(1,"El artista o banda es obligatorio"),i())}function kt(t,a){if(t&1&&f(0,At,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.artist"))==null||e.errors==null)&&e.errors.required?0:-1)}}function qt(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Bt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El g\xE9nero musical es obligatorio"),i())}function Lt(t,a){if(t&1&&f(0,Bt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.genre"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Rt(t,a){t&1&&(n(0,"ion-text",8),l(1,"M\xE1ximo 4 cifras"),i())}function jt(t,a){if(t&1&&f(0,Rt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.year"))==null||e.errors==null)&&e.errors.maxLength?0:-1)}}function Ut(t,a){if(t&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Formato de grabaci\xF3n"),i(),n(3,"ion-select",39),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(4," \u2026 "),P(5,It,2,2,"ion-select-option",32,E),i(),f(7,Mt,1,1),i(),n(8,"div",9)(9,"ion-label",10),l(10,"Artista o banda"),i(),n(11,"ion-input",40),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(12,kt,1,1),i(),n(13,"div",9)(14,"ion-label",10),l(15,"G\xE9nero musical"),i(),n(16,"ion-select",41),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(17," \u2026 "),P(18,qt,2,2,"ion-select-option",32,E),i(),f(20,Lt,1,1),i(),n(21,"div",9)(22,"ion-label",10),l(23,"T\xEDtulo de la grabaci\xF3n (opcional)"),i(),n(24,"ion-input",42),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(25,"div",9)(26,"ion-label",10),l(27,"A\xF1o de la grabaci\xF3n (opcional)"),i(),n(28,"ion-input",43),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(29,jt,1,1),i(),n(30,"div",9)(31,"ion-label",10),l(32,"Duraci\xF3n (opcional)"),i(),n(33,"ion-input",44),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(34,"div",9)(35,"ion-label",10),l(36,"Discogr\xE1fica (opcional)"),i(),n(37,"ion-input",45),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(38,"div",9)(39,"ion-label",10),l(40,"N\xFAmero de cat\xE1logo (opcional)"),i(),n(41,"ion-input",46),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(42,"div",9)(43,"ion-label",10),l(44,"ISRC (opcional)"),i(),n(45,"ion-input",47),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(46,"div",9)(47,"ion-label",10),l(48,"C\xF3digo de barras (opcional)"),i(),n(49,"ion-input",48),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(50,"div",9)(51,"ion-label",10),l(52,"Fecha de publicaci\xF3n (opcional)"),i(),n(53,"ion-input",49),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(54,"div",9)(55,"ion-label",10),l(56,"Pa\xEDs de publicaci\xF3n (opcional)"),i(),n(57,"ion-input",50),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(58,"div",9)(59,"ion-label",10),l(60,"Formato de publicaci\xF3n (opcional)"),i(),n(61,"ion-input",51),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(62,"div",9)(63,"ion-label",10),l(64,"N\xFAmero de canciones (opcional)"),i(),n(65,"ion-input",52),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()()}if(t&2){let e=s();p(5),w(e.recordingFormats),p(2),_(e.submitAttempted()?7:-1),p(5),_(e.submitAttempted()?12:-1),p(6),w(e.recordingGenres),p(2),_(e.submitAttempted()?20:-1),p(9),_(e.submitAttempted()?29:-1)}}function $t(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Gt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El tipo de accesorio es obligatorio"),i())}function zt(t,a){if(t&1&&f(0,Gt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.type"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Qt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El nombre del accesorio es obligatorio"),i())}function Yt(t,a){if(t&1&&f(0,Qt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.name"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Kt(t,a){if(t&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Tipo de accesorio"),i(),n(3,"ion-select",53),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(4," \u2026 "),P(5,$t,2,2,"ion-select-option",32,E),i(),f(7,zt,1,1),i(),n(8,"div",9)(9,"ion-label",10),l(10,"Nombre del accesorio"),i(),n(11,"ion-input",54),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(12,Yt,1,1),i(),n(13,"div",9)(14,"ion-label",10),l(15,"Marca del accesorio (opcional)"),i(),n(16,"ion-input",55),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(17,"div",9)(18,"ion-label",10),l(19,"Color del accesorio (opcional)"),i(),n(20,"ion-input",35),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(21,"div",9)(22,"ion-label",10),l(23,"Instrumento asociado (opcional)"),i(),n(24,"ion-input",56),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()()}if(t&2){let e=s();p(5),w(e.accesoryTypes),p(2),_(e.submitAttempted()?7:-1),p(5),_(e.submitAttempted()?12:-1)}}function Wt(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function Ht(t,a){t&1&&(n(0,"ion-text",8),l(1,"El tipo es obligatorio"),i())}function Jt(t,a){if(t&1&&f(0,Ht,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.type"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Xt(t,a){t&1&&(n(0,"ion-text",8),l(1,"El nombre es obligatorio"),i())}function Zt(t,a){if(t&1&&f(0,Xt,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.name"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ei(t,a){t&1&&(n(0,"ion-text",8),l(1,"La marca es obligatoria"),i())}function ti(t,a){if(t&1&&f(0,ei,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.brand"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ii(t,a){t&1&&(n(0,"ion-text",8),l(1,"El modelo es obligatoria"),i())}function ni(t,a){if(t&1&&f(0,ii,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.model"))==null||e.errors==null)&&e.errors.required?0:-1)}}function oi(t,a){t&1&&(n(0,"ion-text",8),l(1,"El n\xFAmero de serie es obligatorio"),i())}function ri(t,a){if(t&1&&f(0,oi,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.serialNumber"))==null||e.errors==null)&&e.errors.required?0:-1)}}function li(t,a){if(t&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Tipo de art\xEDculo profesional"),i(),n(3,"ion-select",57),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(4," \u2026 "),P(5,Wt,2,2,"ion-select-option",32,E),i(),f(7,Jt,1,1),i(),n(8,"div",9)(9,"ion-label",10),l(10,"Nombre"),i(),n(11,"ion-input",54),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(12,Zt,1,1),i(),n(13,"div",9)(14,"ion-label",10),l(15,"Marca"),i(),n(16,"ion-input",55),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(17,ti,1,1),i(),n(18,"div",9)(19,"ion-label",10),l(20,"Modelo"),i(),n(21,"ion-input",34),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(22,ni,1,1),i(),n(23,"div",9)(24,"ion-label",10),l(25,"N\xFAmero de serie"),i(),n(26,"ion-input",37),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(27,ri,1,1),i(),n(28,"div",9)(29,"ion-label",10),l(30,"Color (opcional)"),i(),n(31,"ion-input",35),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(32,"div",9)(33,"ion-label",10),l(34,"A\xF1o de fabricaci\xF3n (opcional)"),i(),n(35,"ion-input",36),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(36,"div",9)(37,"ion-label",10),l(38,"Accesorios (opcional)"),i(),n(39,"ion-input",58),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(40,"div",9)(41,"ion-label",10),l(42,"Garant\xEDa (opcional)"),i(),n(43,"ion-input",59),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(44,"div",9)(45,"ion-label",10),l(46,"Duraci\xF3n de la garant\xEDa (opcional)"),i(),n(47,"ion-input",60),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(48,"div",9)(49,"ion-label",10),l(50,"Tipo de garant\xEDa (opcional)"),i(),n(51,"ion-input",61),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()()}if(t&2){let e=s();p(5),w(e.professionalTypes),p(2),_(e.submitAttempted()?7:-1),p(5),_(e.submitAttempted()?12:-1),p(5),_(e.submitAttempted()?17:-1),p(5),_(e.submitAttempted()?22:-1),p(5),_(e.submitAttempted()?27:-1)}}function ai(t,a){t&1&&(n(0,"ion-text",8),l(1,"El t\xEDtulo del libro es obligatorio"),i())}function si(t,a){if(t&1&&f(0,ai,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.title"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ci(t,a){t&1&&(n(0,"ion-text",8),l(1,"El autor del libro es obligatorio"),i())}function mi(t,a){if(t&1&&f(0,ci,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.author"))==null||e.errors==null)&&e.errors.required?0:-1)}}function ui(t,a){if(t&1&&(n(0,"ion-select-option",32),l(1),i()),t&2){let e=a.$implicit;g("value",e),p(),V(e)}}function pi(t,a){t&1&&(n(0,"ion-text",8),l(1,"El tema del libro es obligatorio"),i())}function _i(t,a){if(t&1&&f(0,pi,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.theme"))==null||e.errors==null)&&e.errors.required?0:-1)}}function di(t,a){if(t&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"T\xEDtulo del libro"),i(),n(3,"ion-input",11),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(4,si,1,1),i(),n(5,"div",9)(6,"ion-label",10),l(7,"Autor del libro"),i(),n(8,"ion-input",62),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(9,mi,1,1),i(),n(10,"div",9)(11,"ion-label",10),l(12,"Tema del libro"),i(),n(13,"ion-select",63),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),l(14," \u2026 "),P(15,ui,2,2,"ion-select-option",32,E),i(),f(17,_i,1,1),i(),n(18,"div",9)(19,"ion-label",10),l(20,"Edici\xF3n del libro (opcional)"),i(),n(21,"ion-input",64),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(22,"div",9)(23,"ion-label",10),l(24,"Editorial del libro (opcional)"),i(),n(25,"ion-input",65),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(26,"div",9)(27,"ion-label",10),l(28,"A\xF1o del libro (opcional)"),i(),n(29,"ion-input",43),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(30,"div",9)(31,"ion-label",10),l(32,"N\xFAmero de p\xE1ginas del libro (opcional)"),i(),n(33,"ion-input",66),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(34,"div",9)(35,"ion-label",10),l(36,"Idioma del libro (opcional)"),i(),n(37,"ion-input",67),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(38,"div",9)(39,"ion-label",10),l(40,"ISBN del libro (opcional)"),i(),n(41,"ion-input",68),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(42,"div",9)(43,"ion-label",10),l(44,"Serie del libro (opcional)"),i(),n(45,"ion-input",69),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()(),n(46,"div",9)(47,"ion-label",10),l(48,"Volumen del libro (opcional)"),i(),n(49,"ion-input",70),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i()()}if(t&2){let e=s();p(4),_(e.submitAttempted()?4:-1),p(5),_(e.submitAttempted()?9:-1),p(6),w(e.bookThemes),p(2),_(e.submitAttempted()?17:-1)}}function fi(t,a){t&1&&(n(0,"ion-text",8),l(1,"La descripci\xF3n del art\xEDculo es obligatoria"),i())}function Ci(t,a){if(t&1&&f(0,fi,2,0,"ion-text",8),t&2){let e,o=s(2);_(!((e=o.publishForm.get("specificData.description"))==null||e.errors==null)&&e.errors.required?0:-1)}}function bi(t,a){if(t&1){let e=T();n(0,"div",9)(1,"ion-label",10),l(2,"Descripci\xF3n del art\xEDculo"),i(),n(3,"ion-textarea",19),u("ionFocus",function(){c(e);let r=s();return m(r.controlFocus.emit("specificData"))}),i(),f(4,Ci,1,1),i()}if(t&2){let e=s();p(4),_(e.submitAttempted()?4:-1)}}function xi(t,a){t&1&&k(0,"ion-spinner",28)}var lt,z,Ye=le(()=>{"use strict";U();J();it();Re();Xe();Ze();nt();tt();U();J();lt=["titleInput"];z=(()=>{var a,re,Qe;let r=class r{constructor(){ae(this,a);this.fb=M(ge),this.currencyPipe=M(X),this.titleInput=I("titleInput"),this.formSubmit=A(),this.submitAttempted=L(!1),this.controlFocus=A(),this.focusedInput=O(""),this.uploadImages=A(),this.uploadedImagesURLs=L([]),this.isPriceFocused=!1,this.suggestPrice=A(),this.conditionsEnum=G,this.conditions=Object.values(G).filter(d=>d!==G.None),this.categoriesEnum=S,this.categories=Object.values(S).filter(d=>d!==S.None),this.selectedCategory=O(S.None),this.selectedInstrumentType=O(y.None),this.instrumentTypes=Object.values(y).filter(d=>d!==y.None),this.instrumentBrands=O([]),this.instrumentLevels=Object.values(oe).filter(d=>d!==oe.None),this.accesoryTypes=Object.values(Z).filter(d=>d!==Z.None),this.recordingFormats=Object.values(ee).filter(d=>d!==ee.None),this.recordingGenres=Object.values(te).filter(d=>d!==te.None),this.bookThemes=Object.values(ne).filter(d=>d!==ne.None),this.professionalTypes=Object.values(ie).filter(d=>d!==ie.None),this.loading=L(!1),Ue({cameraOutline:$e,logoEuro:Ge}),H(()=>{let d=this.selectedInstrumentType();this.instrumentBrands.set(q(this,a,Qe).call(this,d))}),H(()=>{let d=this.uploadedImagesURLs();if(d.length>0){let C=d[0];q(this,a,re).call(this,C)}else q(this,a,re).call(this,"")})}ngOnInit(){this.initForm()}initForm(){this.publishForm=this.fb.group({commonData:this.fb.group({title:this.fb.control("",{validators:[x.required,x.minLength(10)],updateOn:"blur"}),price:this.fb.control("",{validators:[x.required,x.min(0)],updateOn:"blur"}),description:this.fb.control("",{validators:[x.required],updateOn:"blur"}),condition:this.fb.control("",{validators:[x.required],updateOn:"blur"}),category:this.fb.control(this.selectedCategory(),{validators:[x.required],updateOn:"blur"})}),specificData:this.fb.group({})})}resetForm(){this.selectedCategory.set(this.categoriesEnum.None),this.publishForm.reset()}focusTitleInput(){var d;(d=this.titleInput())==null||d.setFocus()}formatPrice(){var C,b;let d=(C=this.publishForm.get("commonData.price"))==null?void 0:C.value;if(!isNaN(d)){let v=this.currencyPipe.transform(d,!1);(b=this.publishForm.get("commonData.price"))==null||b.setValue(v)}}onCategoryChange(d){this.selectedCategory.set(d.detail.value),this.publishForm.contains("specificData")&&this.publishForm.removeControl("specificData");let C;switch(this.selectedCategory()){case S.Instruments:C=this.fb.group({type:this.fb.control("",{validators:[x.required],updateOn:"blur"}),brand:this.fb.control("",{validators:[x.required],updateOn:"blur"}),model:this.fb.control(""),color:this.fb.control(""),fabricationYear:this.fb.control(""),serialNumber:this.fb.control(""),instrumentLevel:this.fb.control("")});break;case S.Recordings:C=this.fb.group({format:this.fb.control("",{validators:[x.required],updateOn:"blur"}),artist:this.fb.control("",{validators:[x.required],updateOn:"blur"}),genre:this.fb.control("",{validators:[x.required,x.maxLength(4)],updateOn:"blur"}),recordingTitle:this.fb.control(""),year:this.fb.control(""),duration:this.fb.control(""),label:this.fb.control(""),catalogNumber:this.fb.control(""),isrc:this.fb.control(""),barcode:this.fb.control(""),releaseDate:this.fb.control(""),releaseCountry:this.fb.control(""),releaseFormat:this.fb.control(""),trackCount:this.fb.control("")});break;case S.Accessories:C=this.fb.group({type:this.fb.control("",{validators:[x.required],updateOn:"blur"}),name:this.fb.control("",{validators:[x.required],updateOn:"blur"}),brand:this.fb.control(""),color:this.fb.control(""),associatedInstrument:this.fb.control("")});break;case S.Professional:C=this.fb.group({type:this.fb.control("",{validators:[x.required],updateOn:"blur"}),name:this.fb.control("",{validators:[x.required],updateOn:"blur"}),brand:this.fb.control("",{validators:[x.required],updateOn:"blur"}),model:this.fb.control("",{validators:[x.required],updateOn:"blur"}),serialNumber:this.fb.control("",{validators:[x.required],updateOn:"blur"}),color:this.fb.control(""),fabricationYear:this.fb.control(""),accessories:this.fb.control(""),warranty:this.fb.control(""),warrantyDuration:this.fb.control(""),warrantyType:this.fb.control("")});break;case S.Books:C=this.fb.group({title:this.fb.control("",{validators:[x.required],updateOn:"blur"}),author:this.fb.control("",{validators:[x.required],updateOn:"blur"}),theme:this.fb.control("",{validators:[x.required],updateOn:"blur"}),edition:this.fb.control(""),publisher:this.fb.control(""),year:this.fb.control(""),pages:this.fb.control(""),language:this.fb.control(""),isbn:this.fb.control(""),series:this.fb.control(""),volume:this.fb.control("")});break;case S.Other:C=this.fb.group({description:this.fb.control("",{validators:[x.required],updateOn:"blur"})});break;default:C=this.fb.group({});break}C&&this.publishForm.setControl("specificData",C)}onInstrumentTypeChange(d){this.selectedInstrumentType.set(d.detail.value)}};a=new WeakSet,re=function(d){let C=document.querySelector(".images-upload-box");C&&(C.style.backgroundImage=`url(${d})`,C.style.backgroundSize="cover",C.style.backgroundPosition="center")},Qe=function(d){switch(d){case y.String:return[...Object.values(h.String).filter(C=>C!==h.None),h.Other];case y.Keyboard:return[...Object.values(h.Keyboard).filter(C=>C!==h.None),h.Other];case y.Wind:return[...Object.values(h.Wind).filter(C=>C!==h.None),h.Other];case y.Brass:return[...Object.values(h.Brass).filter(C=>C!==h.None),h.Other];case y.Percussion:return[...Object.values(h.Percussion).filter(C=>C!==h.None),h.Other];case y.Electronic:return[...Object.values(h.Electronic).filter(C=>C!==h.None),h.Other];case y.Other:return[h.Other]}return[h.None]},r.\u0275fac=function(C){return new(C||r)},r.\u0275cmp=R({type:r,selectors:[["app-publish-form"]],viewQuery:function(C,b){C&1&&N(b.titleInput,lt,5),C&2&&j()},inputs:{submitAttempted:[1,"submitAttempted"],uploadedImagesURLs:[1,"uploadedImagesURLs"],loading:[1,"loading"]},outputs:{formSubmit:"formSubmit",controlFocus:"controlFocus",uploadImages:"uploadImages",suggestPrice:"suggestPrice"},features:[ce([X])],decls:61,vars:13,consts:[["titleInput",""],[3,"formGroup"],["formGroupName","commonData",1,"inputs-container"],[1,"images-upload-box-container"],[1,"images-upload-box",3,"click"],[1,"camera-icon-wrapper"],["name","camera-outline","color","light","size","large"],["color","dark",1,"camera-badge"],["color","danger",1,"error-text"],[1,"input-wrapper"],["color","light",1,"custom"],["formControlName","title","type","text",1,"custom",3,"ionFocus"],[1,"price-wrapper"],[1,"input-wrapper","price-input-wrapper"],["formControlName","price","type","text","inputmode","decimal",1,"custom",3,"ionFocus","ionBlur"],["slot","end",1,"price-currency"],[1,"price-suggestion-wrapper"],[1,"inline-link",3,"click"],[1,"input-wrapper","description-wrapper"],["formControlName","description",1,"custom",3,"ionFocus"],[1,"input-wrapper","condition-wrapper"],[1,"radiobuttons-container"],["formControlName","condition"],[1,"input-wrapper","category-wrapper"],["formControlName","category",3,"ionChange"],["formGroupName","specificData",1,"inputs-container"],[1,"button-container"],[3,"click","disabled"],["name","crescent"],[1,"radiobutton-wrapper"],["labelPlacement","end","color","light",3,"value"],["formControlName","type","aria-label","Tipo de instrumento","interface","popover","color","light",1,"custom","select-input",3,"ionFocus","ionChange"],[3,"value"],["formControlName","brand","aria-label","Marca de instrumento","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","model","type","text",1,"custom",3,"ionFocus"],["formControlName","color","type","text",1,"custom",3,"ionFocus"],["formControlName","fabricationYear","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","serialNumber","type","text",1,"custom",3,"ionFocus"],["formControlName","instrumentLevel","aria-label","Nivel de instrumento","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","format","aria-label","Formato de grabaci\xF3n","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","artist","type","text",1,"custom",3,"ionFocus"],["formControlName","genre","aria-label","G\xE9nero musical","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","recordingTitle","type","text",1,"custom",3,"ionFocus"],["formControlName","year","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","duration","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","label","type","text",1,"custom",3,"ionFocus"],["formControlName","catalogNumber","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","isrc","type","text",1,"custom",3,"ionFocus"],["formControlName","barcode","type","text",1,"custom",3,"ionFocus"],["formControlName","releaseDate","type","text","inputmode","datetime-local",1,"custom",3,"ionFocus"],["formControlName","releaseCountry","type","text",1,"custom",3,"ionFocus"],["formControlName","releaseFormat","type","text",1,"custom",3,"ionFocus"],["formControlName","trackCount","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","type","aria-label","Tipo de accesorio","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","name","type","text",1,"custom",3,"ionFocus"],["formControlName","brand","type","text",1,"custom",3,"ionFocus"],["formControlName","associatedInstrument","type","text",1,"custom",3,"ionFocus"],["formControlName","type","aria-label","Tipo de art\xEDculo profesional","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","accessories","type","text",1,"custom",3,"ionFocus"],["formControlName","warranty","type","text",1,"custom",3,"ionFocus"],["formControlName","warrantyDuration","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","warrantyType","type","text",1,"custom",3,"ionFocus"],["formControlName","author","type","text",1,"custom",3,"ionFocus"],["formControlName","theme","aria-label","Tema del libro","interface","popover","color","light",1,"custom","select-input",3,"ionFocus"],["formControlName","edition","type","text",1,"custom",3,"ionFocus"],["formControlName","publisher","type","text",1,"custom",3,"ionFocus"],["formControlName","pages","type","text","inputmode","numeric",1,"custom",3,"ionFocus"],["formControlName","language","type","text",1,"custom",3,"ionFocus"],["formControlName","isbn","type","text",1,"custom",3,"ionFocus"],["formControlName","series","type","text",1,"custom",3,"ionFocus"],["formControlName","volume","type","text",1,"custom",3,"ionFocus"]],template:function(C,b){if(C&1){let v=T();n(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4),u("click",function(){return c(v),m(b.uploadImages.emit())}),n(4,"ion-text"),l(5,"A\xF1adir im\xE1genes"),i(),n(6,"div",5),k(7,"ion-icon",6),f(8,at,2,1,"ion-badge",7),i()(),f(9,st,2,0,"ion-text",8),i(),n(10,"div",9)(11,"ion-label",10),l(12,"T\xEDtulo del anuncio"),i(),n(13,"ion-input",11,0),u("ionFocus",function(){return c(v),m(b.controlFocus.emit("commonData"))}),i(),f(15,ut,2,2),i(),n(16,"div",12)(17,"div",13)(18,"ion-label",10),l(19,"Precio"),i(),n(20,"ion-input",14),u("ionFocus",function(){return c(v),m(b.controlFocus.emit("commonData"))})("ionBlur",function(){return c(v),b.formatPrice(),m(b.isPriceFocused=!1)}),n(21,"ion-text",15),l(22,"\u20AC"),i()(),f(23,ft,3,3),i(),n(24,"div",16)(25,"ion-text",17),u("click",function(){return c(v),m(b.suggestPrice.emit())}),l(26,"Sugerir precio"),i()()(),n(27,"div",18)(28,"ion-label",10),l(29,"Descripci\xF3n del anuncio"),i(),n(30,"ion-textarea",19),u("ionFocus",function(){return c(v),m(b.controlFocus.emit("commonData"))}),i(),f(31,bt,1,1),i(),n(32,"div",20)(33,"ion-label",10),l(34,"Estado del art\xEDculo"),i(),n(35,"div",21)(36,"ion-radio-group",22)(37,"ion-row"),P(38,xt,4,2,"ion-col",null,E),i()()(),f(40,ht,1,1),i(),n(41,"div",23)(42,"ion-label",10),l(43,"Categor\xEDa"),i(),n(44,"div",21)(45,"ion-radio-group",24),u("ionChange",function(Ke){return c(v),m(b.onCategoryChange(Ke))}),n(46,"ion-row"),P(47,gt,4,2,"ion-col",null,E),i()()(),f(49,Et,1,1),i()(),n(50,"div",25),f(51,Ot,39,2)(52,Ut,66,4)(53,Kt,25,2)(54,li,52,5)(55,di,50,3)(56,bi,5,1,"div",9),i()(),n(57,"div",26)(58,"ion-button",27),u("click",function(){return c(v),m(b.formSubmit.emit())}),l(59," Publicar anuncio "),f(60,xi,1,0,"ion-spinner",28),i()()}if(C&2){let v;g("formGroup",b.publishForm),p(3),se("has-image",b.uploadedImagesURLs().length>0),p(5),_(b.uploadedImagesURLs().length>0?8:-1),p(),_(b.submitAttempted()&&b.uploadedImagesURLs().length===0?9:-1),p(6),_(b.submitAttempted()?15:-1),p(8),_(b.submitAttempted()?23:-1),p(8),_(b.submitAttempted()?31:-1),p(7),w(b.conditions),p(2),_(b.submitAttempted()?40:-1),p(7),w(b.categories),p(2),_(b.submitAttempted()?49:-1),p(2),_((v=b.selectedCategory())===b.categoriesEnum.Instruments?51:v===b.categoriesEnum.Recordings?52:v===b.categoriesEnum.Accessories?53:v===b.categoriesEnum.Professional?54:v===b.categoriesEnum.Books?55:v===b.categoriesEnum.Other?56:-1),p(7),g("disabled",b.loading()),p(2),_(b.loading()?60:-1)}},dependencies:[Ne,Pe,we,Se,Oe,qe,De,Be,Ie,Me,ke,Ve,Ae,Le,Ee,Ce,_e,de,be,Fe,xe],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;justify-content:space-between}.images-upload-box-container[_ngcontent-%COMP%]{min-height:11rem;margin-bottom:2rem;display:flex;flex-direction:column}.images-upload-box[_ngcontent-%COMP%]{position:relative;margin:1rem 0rem 0rem calc(var(--horizontal-margin) * -1);min-width:100dvw;min-height:8rem;border-radius:0rem;background-color:var(--ion-color-dark-shade);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;text-align:center;cursor:pointer}.images-upload-box.has-image[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;background:#000000bf}.images-upload-box[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{position:absolute;z-index:1;bottom:55%;color:var(--ion-color-light-shade);font-size:var(--label-large-size, .875rem);font-style:normal;font-weight:var(--label-large-weight-prominent, 600);line-height:var(--label-large-line-height, 1.25rem);letter-spacing:var(--label-large-tracking, .00625rem)}.images-upload-box[_ngcontent-%COMP%]   .camera-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.images-upload-box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:55%;right:-8px;z-index:1;color:var(--ion-color-light-shade);font-size:2.5rem}.images-upload-box[_ngcontent-%COMP%]   .camera-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-16px;font-size:.7rem;padding:2px 6px;border-radius:50%}.price-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}.price-wrapper[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]{max-width:66%}.price-wrapper[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]   .price-currency[_ngcontent-%COMP%]{color:var(--ion-color-light-shade);font-size:var(--label-larger-size, 1.25rem);margin-right:.5rem}.price-wrapper[_ngcontent-%COMP%]   .price-suggestion-wrapper[_ngcontent-%COMP%]{align-self:center;flex:1 0 auto}.description-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem;min-height:9.5rem}.condition-wrapper[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]{padding-bottom:2rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]{margin-top:.5rem;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   ion-radio-group[_ngcontent-%COMP%]{display:flex;width:100%}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem}.condition-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .radiobuttons-container[_ngcontent-%COMP%]   .radiobutton-wrapper[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{font-size:var(--body-large-size, 1rem);font-style:normal;font-weight:var(body-large-weight, 400);line-height:var(--body-large-line-height, 1.5rem);letter-spacing:var(--body-large-tracking, .03125rem)}.button-container[_ngcontent-%COMP%]{margin-top:2rem;display:flex;flex-direction:column;align-items:flex-start}']});let t=r;return t})()});var Fi,hi,Gi,gi=le(()=>{U();We();J();Re();et();Ye();ot();Je();He();U();Fi=["titleInput"],hi=["fileInput"],Gi=(()=>{let a=class a{constructor(){this.router=M(pe),this.sellService=M(ze),this.uploadedImagesURLs=W(()=>this.sellService.sellState().imagesDataURLs),this.loading=W(()=>this.sellService.sellState().loading),this.errorMessage=me(()=>{var o;return(o=this.sellService.sellState().errorMessage)!=null?o:""}),this.toolbar=I($),this.publishFormComponent=I(z),this.submitAttempted=O(!1),this.titleInput=I("titleInput"),this.fileInput=I("fileInput"),this.onImagesUpload=()=>B(this,null,function*(){var o;je.isNativePlatform()?yield this.sellService.loadImages():(o=this.fileInput())==null||o.nativeElement.click()}),this.handleFileInput=o=>B(this,null,function*(){let r=yield this.sellService.loadImagesNotNative(o)})}ngOnInit(){}ionViewDidEnter(){var o;(o=this.publishFormComponent())==null||o.focusTitleInput()}ionViewDidLeave(){var o,r;this.submitAttempted.set(!1),(o=this.publishFormComponent())==null||o.resetForm(),this.sellService.removeImages(),(r=this.toolbar())==null||r.searchActive.set(!1)}onControlFocus(o){this.submitAttempted.set(!1)}handleFormSubmit(){return B(this,null,function*(){var r;this.submitAttempted.set(!0);let o=(r=this.publishFormComponent())==null?void 0:r.publishForm;o==null||o.updateValueAndValidity(),!(o!=null&&o.invalid)&&this.uploadedImagesURLs().length!==0&&(yield this.sellService.publishPost(Y(Q({},o==null?void 0:o.value.commonData),{characteristics:Y(Q({},o==null?void 0:o.value.specificData),{category:o==null?void 0:o.value.commonData.category})})),this.errorMessage()||this.router.navigate(["/tabs/sell/splash"]))})}findInvalidControls(o,r=""){let F=[];return o instanceof fe?Object.keys(o.controls).forEach(d=>{let C=o.controls[d],b=r?`${r}.${d}`:d;C.invalid&&F.push(...this.findInvalidControls(C,b))}):o instanceof he?o.controls.forEach((d,C)=>{let b=`${r}[${C}]`;d.invalid&&F.push(...this.findInvalidControls(d,b))}):o!=null&&o.invalid&&F.push(`${r}: ${JSON.stringify(o.errors)}`),F}};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=R({type:a,selectors:[["app-publish"]],viewQuery:function(r,F){r&1&&(N(F.toolbar,$,5),N(F.publishFormComponent,z,5),N(F.titleInput,Fi,5),N(F.fileInput,hi,5)),r&2&&j(4)},decls:7,vars:6,consts:[["fileInput",""],[3,"translucent"],["type","menu",3,"title"],[3,"fullscreen"],[1,"container"],[3,"controlFocus","uploadImages","formSubmit","submitAttempted","uploadedImagesURLs","loading"],["type","file","accept","image/*","multiple","","hidden","",3,"change"]],template:function(r,F){if(r&1){let d=T();n(0,"ion-header",1),k(1,"app-toolbar",2),i(),n(2,"ion-content",3)(3,"div",4)(4,"app-publish-form",5),u("controlFocus",function(b){return c(d),m(F.onControlFocus(b))})("uploadImages",function(){return c(d),m(F.onImagesUpload())})("formSubmit",function(){return c(d),m(F.handleFormSubmit())}),i(),n(5,"input",6,0),u("change",function(b){return c(d),m(F.handleFileInput(b))}),i()()()}r&2&&(g("translucent",!0),p(),g("title","Vender"),p(),g("fullscreen",!0),p(2),g("submitAttempted",F.submitAttempted())("uploadedImagesURLs",F.uploadedImagesURLs())("loading",F.loading()))},dependencies:[z,$,ye,Te,ue,ve],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100%}"]});let t=a;return t})()});gi();export{Gi as PublishPage};
