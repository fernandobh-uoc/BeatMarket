import{a as W,b as it}from"./chunk-SWFIUNRV.js";import{D as ot,a as G,b as nt,c as J,f as K,t as L,x as N}from"./chunk-D4UN2WVJ.js";import{Ba as et,N as M,P as O,Q as D,R as E,S as F,fa as U,ga as Q,pa as q,qa as j,t as z,v as tt,va as H,ya as R}from"./chunk-XVXSUTZI.js";import{Aa as _,Ea as g,F as b,Fa as C,Ga as r,Ib as P,N as h,Nb as $,O as p,Sa as x,Ta as w,X as T,Y as a,_ as v,aa as k,ba as m,ha as y,jb as V,ma as d,pb as B,ra as S,sa as f,ta as A,ua as u,xb as I,ya as c,za as s,zb as Z}from"./chunk-LBGYGD76.js";import{f as Y}from"./chunk-FIPIWZQS.js";function at(t,o){if(t&1){let e=g();c(0,"ion-searchbar",5),C("ionInput",function(n){let i;h(e);let X=r();return p(X.searchQuery.set((i=n.target.value)!==null&&i!==void 0?i:""))})("keyup.enter",function(){h(e);let n=r();return p(n.submitSearch())})("ionCancel",function(){h(e);let n=r();return p(n.closeSearchBar())}),s()}if(t&2){let e=r();f("value",e.searchDefaultValue())}}function rt(t,o){t&1&&_(0,"ion-back-button",7)}function lt(t,o){if(t&1){let e=g();c(0,"ion-button",8),C("click",function(){h(e);let n=r(3);return p(n.backPressed.emit())}),_(1,"ion-icon",9),s()}}function ct(t,o){if(t&1&&d(0,rt,1,0,"ion-back-button",7)(1,lt,2,0,"ion-button"),t&2){let e=r(2);u(e.backActionType()==="default"?0:e.backActionType()==="emit"?1:-1)}}function st(t,o){t&1&&(c(0,"ion-menu-toggle")(1,"ion-button"),_(2,"ion-icon",10),s()())}function mt(t,o){if(t&1&&(c(0,"ion-avatar",6),_(1,"img",11),s()),t&2){let e=r(2);m(),f("src",e.avatarUrl(),k)}}function ut(t,o){if(t&1&&d(0,ct,2,1)(1,st,3,0,"ion-menu-toggle")(2,mt,2,1,"ion-avatar",6),t&2){let e=r();u(e.type()==="arrow-back"?0:e.type()==="menu"?1:-1),m(2),u(e.showAvatar()?2:-1)}}function _t(t,o){if(t&1){let e=g();c(0,"ion-button",8),C("click",function(){h(e);let n=r();return p(n.openSearchBar())}),_(1,"ion-icon",12),s()}}function ht(t,o){if(t&1&&(c(0,"ion-badge",15),x(1),s()),t&2){let e=r(2);m(),w(e.cartItemsAmount())}}function pt(t,o){if(t&1){let e=g();c(0,"ion-button",8),C("click",function(){h(e);let n=r();return p(n.router.navigate(["/cart"]))}),c(1,"div",13),_(2,"ion-icon",14),d(3,ht,2,1,"ion-badge",15),s()()}if(t&2){let e=r();m(3),u(e.cartItemsAmount()>0?3:-1)}}function dt(t,o){if(t&1&&_(0,"ion-progress-bar",4),t&2){let e=r();f("value",e.progressBarValue())}}var At,gt=Y(()=>{"use strict";B();Z();tt();et();nt();ot();$();it();B();At=(()=>{let o=class o{constructor(){this.cartService=b(W),this.router=b(P),this.type=a("arrow-back"),this.backActionType=a("default"),this.backPressed=T(),this.largeTitle=a(!1),this.title=a(""),this.titleFontSize=a("large"),this.showSearch=a(!0),this.searchDefaultActive=a(!1),this.searchDefaultValue=a(""),this.searchQuery=v(""),this.searchActive=v(this.searchDefaultActive()),this.showCart=a(!0),this.cartItemsAmount=V(()=>{var l,n;return(n=(l=this.cartService.cartState())==null?void 0:l.cartItemsAmount)!=null?n:0}),this.showProgressBar=a(!1),this.progressBarValue=a(0),this.showAvatar=a(!1),this.avatarUrl=a(""),G({menu:L,arrowBackOutline:J,searchOutline:N,cartOutline:K})}ngOnInit(){this.searchActive.set(this.searchDefaultActive())}openSearchBar(){this.searchActive.set(!0)}closeSearchBar(){this.searchActive.set(!1)}submitSearch(){var l,n;(l=this.searchQuery())!=null&&l.trim()&&this.router.navigate(["/tabs/search"],{queryParams:{query:(n=this.searchQuery())==null?void 0:n.trim()}})}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-toolbar"]],inputs:{type:[1,"type"],backActionType:[1,"backActionType"],largeTitle:[1,"largeTitle"],title:[1,"title"],titleFontSize:[1,"titleFontSize"],showSearch:[1,"showSearch"],searchDefaultActive:[1,"searchDefaultActive"],searchDefaultValue:[1,"searchDefaultValue"],showCart:[1,"showCart"],showProgressBar:[1,"showProgressBar"],progressBarValue:[1,"progressBarValue"],showAvatar:[1,"showAvatar"],avatarUrl:[1,"avatarUrl"]},outputs:{backPressed:"backPressed"},decls:10,vars:12,consts:[["color","dark"],["slot","start"],["showCancelButton","always","placeholder","Buscar...",1,"searchbar",3,"value"],["slot","end"],["color","light",3,"value"],["showCancelButton","always","placeholder","Buscar...",1,"searchbar",3,"ionInput","keyup.enter","ionCancel","value"],[1,"user-avatar"],["defaultHref","/auth/welcome","icon","arrow-back-outline","color","light"],[3,"click"],["slot","icon-only","name","arrow-back-outline","color","light"],["slot","icon-only","name","menu","color","light"],["alt","Avatar del usuario",3,"src"],["slot","icon-only","name","search-outline","color","light"],[1,"cart-icon-wrapper"],["slot","icon-only","name","cart-outline","color","light"],["color","dark",1,"cart-badge"]],template:function(n,i){n&1&&(c(0,"ion-toolbar",0)(1,"ion-buttons",1),d(2,at,1,1,"ion-searchbar",2)(3,ut,3,2),s(),c(4,"ion-buttons",3),d(5,_t,2,0,"ion-button")(6,pt,4,1,"ion-button"),s(),c(7,"ion-title"),x(8),s(),d(9,dt,1,1,"ion-progress-bar",4),s()),n&2&&(m(2),u(i.searchActive()?2:3),m(3),u(i.showSearch()&&!i.searchActive()?5:-1),m(),u(i.showCart()?6:-1),m(),A("large",i.titleFontSize()==="large")("medium",i.titleFontSize()==="medium")("small",i.titleFontSize()==="small"),S("size",i.largeTitle()?"large":void 0),m(),w(i.title()),m(),u(i.showProgressBar()?9:-1))},dependencies:[O,U,D,R,Q,M,E,H,F,q,j,I,z],styles:["ion-title[_ngcontent-%COMP%]{margin-left:.5rem}.large[_ngcontent-%COMP%]{font-size:var(--title-large-size, 1.375rem);font-style:normal;font-weight:400;line-height:var(title-large-line-height, 1.75rem);letter-spacing:var(--title-large-tracking, 0rem)}.medium[_ngcontent-%COMP%]{font-size:var(--title-medium-size, 1rem);font-style:normal;font-weight:500;line-height:var(title-medium-line-height, 1.5rem);letter-spacing:var(--title-medium-tracking, .00938rem)}.small[_ngcontent-%COMP%]{font-size:var(--title-small-size, .875rem);font-style:normal;font-weight:500;line-height:var(title-small-line-height, 1.25rem);letter-spacing:var(--title-small-tracking, .00625rem)}.searchbar[_ngcontent-%COMP%]{--background: var(--ion-color-light-shade);--color: var(--ion-color-dark);--icon-color: var(--ion-color-dark);--cancel-button-color: var(--ion-color-dark);--clear-button-color: var(--ion-color-dark);--placeholder-color: var(--ion-color-dark-shade);--border-radius: 4px}.cart-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-8px;font-size:.7rem;padding:2px 6px;border-radius:50%}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:.25rem}"]});let t=o;return t})()});export{At as a,gt as b};
