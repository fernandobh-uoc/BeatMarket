<ion-header [translucent]="true">
  <app-toolbar type="menu" title="Mensajes"></app-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <div class="top-tabs-container">
      <div class="as-buyer-tab" (click)="selectedTab.set('conversationsAsBuyer')">
        <ion-text [class.selected]="selectedTab() === 'conversationsAsBuyer'">Como comprador</ion-text>
      </div>
      <div class="as-seller-tab" (click)="selectedTab.set('conversationsAsSeller')">
        <ion-text [class.selected]="selectedTab() === 'conversationsAsSeller'">Como vendedor</ion-text>
      </div>
    </div>

    @if (loading()) {
      <div class="loading-spinner-container">
        <ion-spinner name="crescent"></ion-spinner>
      </div>
    } @else {
      @if (selectedTab() === 'conversationsAsBuyer') {
        <app-conversations-list
          [conversations]="conversationsAsBuyer()"
          [type]="'asBuyer'"
        ></app-conversations-list>
      }
  
      @if (selectedTab() === 'conversationsAsSeller') {
        <app-conversations-list
          [conversations]="conversationsAsSeller()"
          [type]="'asSeller'"
        ></app-conversations-list>
      }
    }
  </div>
</ion-content>
