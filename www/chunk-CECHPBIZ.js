import{d as z,e as K}from"./chunk-4JNBSJ5S.js";import{c as F,d as J}from"./chunk-DG3LOJG6.js";import"./chunk-FBV753BW.js";import"./chunk-42PVXCFM.js";import"./chunk-4RNTT74T.js";import"./chunk-VQCHUAXV.js";import{b as V,c as D,e as j}from"./chunk-K5TY53DO.js";import"./chunk-4XKNA7IF.js";import"./chunk-4FRKXPG4.js";import"./chunk-E4HNE3PW.js";import"./chunk-P2UHFIXP.js";import"./chunk-XV6JN3SG.js";import"./chunk-G3RFF6YC.js";import"./chunk-GTZXGHKK.js";import"./chunk-JBWWZWAU.js";import"./chunk-ITJAHDAK.js";import"./chunk-WVJ73LOB.js";import{$ as E,Ba as G,R as T,Z as L,ka as I,na as B,s as k,u as q}from"./chunk-DOH43VTP.js";import{$ as c,Ca as x,D as u,Da as P,Ea as _,Kb as A,L as S,M as b,Pb as W,Qa as v,Y as C,fa as O,hb as s,jb as M,ka as h,nb as w,qa as l,sa as f,vb as y,wa as o,xa as r,xb as R,ya as d}from"./chunk-DHHGUDQP.js";import"./chunk-OHMQXWFK.js";import"./chunk-S6VCIYOJ.js";import"./chunk-25CU3KXX.js";import"./chunk-67JKSNDF.js";import"./chunk-UUSPLNXY.js";import"./chunk-DH7DTWFE.js";import"./chunk-JT567OVO.js";import"./chunk-NY55XGVK.js";import"./chunk-UHVVQU73.js";import"./chunk-IZ5VZLPJ.js";import"./chunk-FTZN4423.js";import"./chunk-R4WQGMAA.js";import"./chunk-5WZLWBAD.js";import"./chunk-UAVZGLFE.js";import"./chunk-3VQMIGUA.js";import"./chunk-GWOLSY5V.js";import"./chunk-QQVLEOUP.js";import"./chunk-HJZG4HTK.js";import"./chunk-XR3M57TO.js";import"./chunk-3FE2HO5M.js";import"./chunk-ZKJSTCFA.js";import{f as m,o as a}from"./chunk-FIPIWZQS.js";var U=m(()=>{"use strict"});var g,H=m(()=>{"use strict";j();U();g=D("Browser",{web:()=>import("./chunk-JAATUI6W.js").then(t=>new t.BrowserWeb)})});function Q(t,e){t&1&&(o(0,"div",4),d(1,"ion-spinner",5),r())}function X(t,e){t&1&&d(0,"ion-spinner",5)}function Y(t,e){if(t&1){let p=x();o(0,"div",6)(1,"ion-text",7),v(2,"Para poder publicar anuncios y recibir pagos de los compradores, debes activar tu cuenta de Stripe."),r()(),o(3,"div",8)(4,"ion-button",9),P("click",function(){S(p);let i=_();return b(i.goToStripe())}),v(5," Activar cuenta de Stripe "),h(6,X,1,0,"ion-spinner",5),r()()}if(t&2){let p=_();c(4),l("disabled",p.loadingOnboardingLink()),c(2),f(p.loadingOnboardingLink()?6:-1)}}var mt,Z=m(()=>{w();R();q();G();W();K();J();j();H();w();mt=(()=>{let e=class e{constructor(){this.router=u(A),this.stripeService=u(z),this.redirectTo=C(""),this.accountActive=s(()=>this.stripeService.stripeState().accountActive),this.stripeOnboardingUrl=s(()=>this.stripeService.stripeState().onboardingLink),this.loadingAccountStatus=M(()=>this.stripeService.stripeState().loading.accountStatus),this.loadingOnboardingLink=s(()=>this.stripeService.stripeState().loading.onboardingLink),this.errorMessage=s(()=>this.stripeService.stripeState().errorMessage)}ngOnInit(){return a(this,null,function*(){g.addListener("browserFinished",()=>a(this,null,function*(){yield this.stripeService.getStripeAccountStatus(),this.accountActive()?this.router.navigate(["/tabs/sell/publish"]):yield this.stripeService.getStripeOnboardingLink()}))})}ngOnDestroy(){return a(this,null,function*(){g.removeAllListeners()})}ionViewDidEnter(){return a(this,null,function*(){if(this.accountActive()||(yield this.stripeService.getStripeAccountStatus()),this.accountActive()){this.router.navigate(["/tabs/sell/publish"]);return}yield this.stripeService.getStripeOnboardingLink()})}goToStripe(){let n=this.stripeOnboardingUrl();n&&(V.isNativePlatform()?g.open({url:n}):window.open(n,"_blank"))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=O({type:e,selectors:[["app-setup"]],decls:6,vars:3,consts:[[3,"translucent"],["title","Vender"],[3,"fullscreen"],[1,"container"],[1,"loading-spinner-container"],["name","crescent"],[1,"text-container"],[1,"text"],[1,"button-container"],[1,"custom",3,"click","disabled"]],template:function(i,N){i&1&&(o(0,"ion-header",0),d(1,"app-toolbar",1),r(),o(2,"ion-content",2)(3,"div",3),h(4,Q,2,0,"div",4)(5,Y,7,2),r()()),i&2&&(l("translucent",!0),c(2),l("fullscreen",!0),c(2),f(N.loadingAccountStatus()?4:5))},dependencies:[I,B,F,T,L,E,y,k],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:100%;position:relative}.container[_ngcontent-%COMP%]   .loading-spinner-container[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:40%;text-align:center}.container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--ion-color-light-shade);font-size:var(--body-larger-size, 1.25rem);line-height:1.25rem}.container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:has(ion-button.ios){margin-bottom:24px}.container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .stripe-logo-container[_ngcontent-%COMP%]{display:flex;width:fit-content;height:fit-content;margin-right:5%;opacity:.8;overflow:hidden}.container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .stripe-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}"]});let t=e;return t})()});Z();export{mt as SetupPage};
