import{a as d,f as u,h as B}from"./chunk-HJZG4HTK.js";import{a as c,c as b}from"./chunk-ZKJSTCFA.js";import{f as h,o as l}from"./chunk-FIPIWZQS.js";var E,w,C,_,y,k=h(()=>{b();B();E=()=>d.get("experimentalCloseWatcher",!1)&&c!==void 0&&"CloseWatcher"in c,w=()=>{document.addEventListener("backbutton",()=>{})},C=()=>{let a=document,r=!1,s=()=>{if(r)return;let o=0,n=[],f=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){n.push({priority:t,handler:e,id:o++})}}});a.dispatchEvent(f);let p=t=>l(void 0,null,function*(){try{if(t!=null&&t.handler){let e=t.handler(i);e!=null&&(yield e)}}catch(e){u("[ion-app] - Exception in startHardwareBackButton:",e)}}),i=()=>{if(n.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};n.forEach(e=>{e.priority>=t.priority&&(t=e)}),r=!0,n=n.filter(e=>e.id!==t.id),p(t).then(()=>r=!1)}};i()};if(E()){let o,n=()=>{o==null||o.destroy(),o=new c.CloseWatcher,o.onclose=()=>{s(),n()}};n()}else a.addEventListener("backbutton",s)},_=100,y=99});export{E as a,w as b,C as c,_ as d,y as e,k as f};
